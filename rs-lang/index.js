(()=>{"use strict";var e={9137:(e,t,o)=>{o.d(t,{Z:()=>$});var r=o(3645),n=o.n(r),i=o(1667),a=o.n(i),s=o(3794),c=o(5612),d=o(8611),l=o(1948),u=o(9936),p=o(5334),h=o(2631),m=o(864),g=o(1600),b=o(8775),f=o(7973),x=o(4122),w=o(1558),v=o(6897),y=o(5551),k=o(7436),S=o(9489),A=n()((function(e){return e[1]})),C=a()(s.Z),E=a()(c.Z),L=a()(d.Z),_=a()(l.Z),T=a()(u.Z),P=a()(p.Z),G=a()(h.Z),W=a()(m.Z),M=a()(g.Z),I=a()(b.Z),z=a()(f.Z),U=a()(x.Z),q=a()(w.Z),R=a()(v.Z),B=a()(y.Z),j=a()(k.Z),O=a()(S.Z);A.push([e.id,'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}:focus{outline:0}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{-webkit-appearance:none;-moz-appearance:none}input[type=search]{-webkit-appearance:none;-moz-appearance:none;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}textarea{overflow:auto;vertical-align:top;resize:vertical}audio,canvas,video{display:inline-block;*display:inline;*zoom:1;max-width:100%}audio:not([controls]){display:none;height:0}[hidden]{display:none}html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a:focus{outline:thin dotted}a:active,a:hover{outline:0}img{border:0;-ms-interpolation-mode:bicubic}figure{margin:0}form{margin:0}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0;white-space:normal;*margin-left:-7px}button{border:none}button,input,select,textarea{font-size:100%;margin:0;vertical-align:baseline;*vertical-align:middle}button,input{line-height:normal}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer;*overflow:visible}button[disabled],html input[disabled]{cursor:default}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}html,button,input,select,textarea{color:#222}::-moz-selection{background:#b3d4fc;text-shadow:none}::selection{background:#b3d4fc;text-shadow:none}img{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}.chromeframe{margin:.2em 0;background:#ccc;color:#000;padding:.2em 0}body{font-family:"Work Sans",sans-serif;color:#000}*{transition:all .2s ease-in-out}button{background:transparent}.btn{border:1px #f1c50e solid;width:100%;max-width:160px;height:42px}.btn:hover{cursor:pointer;opacity:.8}.button-audio-game.button-sound{background-image:url('+C+');position:absolute;margin:30px;width:24px;height:24px;border-radius:50%;background-size:cover;border:none}.button-sound.mute:before{position:absolute;content:"";left:0;top:50%;right:0;border-top:2px solid;color:#000;transform:rotate(-30deg)}.main-wrapper-audio-game-page{display:flex;justify-content:center;width:100%;align-items:center;box-shadow:inset 0 0 0 2000px rgba(41,45,52,.8);background-image:url('+E+");background-size:cover}.main-container-audio-game{background-color:#fff;max-width:550px;height:550px;width:100%;-webkit-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);-moz-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);box-shadow:4px 4px 8px 0px rgba(0,0,0,.2)}.button-wrapper-audio-game{margin:10px}.button-audio-game{height:42px;background-color:#f1c50e;justify-content:center;font-size:18px;margin:10px auto;padding:4px 12px;margin-right:10px}.button-audio-game:last-child{margin-right:0}.button-audio-game:hover:not(:disabled){background-color:#e5e5e5}.button-volume-audio-game{background-image:url("+L+");width:80px;height:80px;border-radius:50%;background-size:cover;padding:0;margin:10px 0 5px 0;align-self:center}.main-wrapper-audio-game{text-align:center}a .button-word-audio-game{min-width:150px}.button-word-audio-game.correct{background-color:#00563f}.button-word-audio-game.incorrect{background-color:#e9692c}.button-audio-game.button-answer-audio-game,.button-audio-game.button-next-card-audio-game{color:#fff;background-color:#292d34}.button-audio-game.button-answer-audio-game:hover,.button-audio-game.button-next-card-audio-game:hover{width:150px;background-color:#e5e5e5;color:#000}.answer-text{font-size:38px;color:#000;font-weight:bold;margin-top:5px;margin-bottom:10px}.button-next-card-audio-game{display:none;width:100px}.button-answer-audio-game{width:100px}.answer-info-container{display:flex;flex-direction:column;max-width:400px;color:#292d34;height:400px}.main-container-audio-game{text-align:-webkit-center}.img-answer{max-height:270px}@media(max-width: 740px){.button-volume-audio-game{width:50px;height:50px}.button-wrapper-audio-game{display:grid;grid-template-columns:repeat(1, 1fr)}.img-answer{max-height:200px;max-width:200px;align-self:center}.answer-info-container{height:240px}.button-audio-game.button-word-audio-game{margin-right:0;margin:5px 0 0 0;width:200px}.button-audio-game.button-answer-audio-game,.button-audio-game.button-next-card-audio-game{margin:5px 0 0 0;width:200px}.button-audio-game:last-child{margin-bottom:10px}}.wrapper-card-sprint-game{display:flex;justify-content:center;align-items:center;width:100%;flex-direction:column;background-color:#e5e5e5}.card-sprint{width:450px;height:450px;background-color:#fff;padding:20px;display:flex;flex-direction:column;justify-content:space-between;-webkit-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);-moz-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);box-shadow:4px 4px 8px 0px rgba(0,0,0,.2)}.header-card-sprint-game{display:flex;justify-content:space-between}.item-header-card-sprint-game{font-size:22px;min-width:140px;text-align:center}.content-card-spring-game{display:flex;flex-direction:column;align-items:center}.item-content-card-sprint-game{width:100%;height:50px;font-size:44px;margin-bottom:20px;text-align:center}.item-content-card-sprint-game:nth-child(1){font-size:54px;font-weight:bold}.image-content-card-sprint-game{display:flex;justify-content:space-between}.footer-card-spring-game{display:flex;justify-content:space-between}.item-footer-card-sprint-game{width:150px;height:42px;background-color:#f1c50e;font-size:22px}.item-footer-card-sprint-game:hover{background-color:#e9692c;color:#fff}.item-footer-card-sprint-game:nth-child(2):hover{background-color:#00563f;color:#fff}.loader{border:16px solid #f3f3f3;border-top:16px solid #ff6a2b;border-radius:50%;width:120px;height:120px;animation:spin 2s linear infinite;position:fixed;top:50%;left:50%;display:none;z-index:100}.show-loader{display:block}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.control-panel{display:flex;justify-content:space-between;width:100%;max-width:470px;margin-bottom:10px}.volume{background-image:url("+_+");width:36px;height:30px;cursor:pointer}.mute{background-image:url("+T+")}.fullscreen{background-image:url("+P+");width:36px;height:36px;cursor:pointer}.full{background-image:url("+G+")}.key-down-wrong{background-color:#e9692c;color:#fff}.key-down-right{background-color:#00563f;color:#fff}@media(max-width: 500px){.card-sprint{width:250px}.image-content-card-sprint-game{display:none}.header-card-sprint-game{flex-direction:column;height:120px}.control-panel{max-width:270px}.content-card-spring-game{height:180px;justify-content:space-around}.item-footer-card-sprint-game{width:105px}.item-content-card-sprint-game{font-size:34px}.item-content-card-sprint-game:nth-child(1){font-size:44px}}.wrapper-choose-level-sprint-game{display:flex;justify-content:center;align-items:center;width:100%;background-color:#444747;box-shadow:inset 0 0 0 2000px rgba(41,45,52,.8);background-image:url("+W+");background-size:cover;background-repeat:no-repeat}.disabled-wrapper{pointer-events:none;opacity:.7}.wrapper-result-sprint-game{display:flex;justify-content:center;align-items:center;width:100%;flex-direction:column;background-image:url("+M+');background-size:cover;background-repeat:no-repeat;box-shadow:inset 0 0 0 2000px rgba(41,45,52,.8)}.wrapper-table{display:flex;background-color:#f1c50e;padding:20px 0 20px 20px;flex-direction:column;text-align:center;font-size:18px;overflow:auto;max-height:600px;vertical-align:middle;-webkit-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);-moz-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);box-shadow:4px 4px 8px 0px rgba(0,0,0,.2)}.wrapper-row{display:flex}.text-result{font-size:36px;margin:20px 0}.wrapper-row:nth-child(2n){background-color:#ffbf00;border-right:3px solid #fff;border-left:3px solid #fff;border-top:3px solid #fff}.wrapper-row:nth-child(2n+1){background-color:#ff9515;border-right:3px solid #fff;border-left:3px solid #fff;border-top:3px solid #fff}.wrapper-row:last-child{border-bottom:3px solid #fff}.column-voice,.column-english,.column-transcription,.column-russian,.column-answer{display:flex;margin:10px;width:150px;height:40px;align-items:center;justify-content:space-around}.column-voice,.column-answer{width:40px;background-repeat:no-repeat;background-position:50%,50%}.column-voice{cursor:pointer}::-webkit-scrollbar{width:20px}::-webkit-scrollbar-track{background-color:transparent}::-webkit-scrollbar-thumb{background-color:#d6dee1;border-radius:20px;border:6px solid transparent;background-clip:content-box}::-webkit-scrollbar-thumb:hover{background-color:#a8bbbf}.wrapper-header-table{display:flex;justify-content:space-between}.score-for-result,.best-continuous-series{font-size:24px}@media(max-width: 710px){.wrapper-table{padding:5px}.wrapper-header-table{flex-direction:column;justify-content:space-between}.score-for-result,.best-continuous-series{font-size:20px}.text-result{font-size:30px;margin:20px 0}.column-voice,.column-english,.column-transcription,.column-russian,.column-answer{margin:2px 10px;width:47px;font-size:11px;height:24px;align-items:center;justify-content:space-around}.column-voice,.column-answer{width:22px;height:18px;background-repeat:no-repeat;background-position:50%,50%;background-size:cover}::-webkit-scrollbar{width:10px}::-webkit-scrollbar-thumb{background-color:#d6dee1;border-radius:20px;border:3px solid transparent;background-clip:content-box}}.header{height:48px;display:flex;align-items:center;justify-content:space-between;padding:5px 20px;background:#fff}.header .authorization-btn{text-transform:uppercase;border:none;width:80px}.header .authorization-btn:hover{color:#f1c50e}.logo{height:42px;width:42px;font-size:24px;font-weight:bold;border:1px solid #000;border-radius:50%;padding:5px}.logo:hover{border:1px solid #f1c50e;color:#f1c50e}.header .menu-btn:hover .menu-btn__burger::before,.header .menu-btn:hover .menu-btn__burger::after,.header .menu-btn:hover .menu-btn__burger{background:#f1c50e}.menu-btn{width:42px;height:42px;position:relative;display:flex;justify-content:center;align-items:center;cursor:pointer;border:none}.menu-btn__burger{width:24px;height:2px;background:#000;transition:all .2s ease-in-out}.menu-btn__burger::before,.menu-btn__burger::after{content:"";position:absolute;width:24px;height:2px;background:#000;border-radius:5px;transition:all .2s ease-in-out}.menu-btn__burger::before{transform:translateY(-6px)}.menu-btn__burger::after{transform:translateY(6px)}.footer{height:56px;background-color:#292d34;display:flex;align-items:center;justify-content:space-between;gap:20px;padding:5px 20px;z-index:1000}.rs-logo svg{height:24px;width:100px;fill:#fff}.rs-logo svg:hover{fill:#f1c50e}.github-container{max-width:300px;display:flex;flex-wrap:wrap;width:100%;align-items:center;justify-content:space-between;gap:10px}.github-container a{display:flex;align-items:center;justify-content:space-between;gap:5px}.github-container a:hover{color:#f1c50e}.github-container a:hover p,.github-container a:hover i{color:#f1c50e}.footer-year-container{display:flex;color:#fff;gap:10px;align-items:center;flex-wrap:wrap;justify-content:center}@media(max-width: 400px){.github-container{justify-content:center}}.github-container a:visited{text-decoration:none;color:#fff}.github{text-decoration:none}.github svg{color:#fff;font-size:24px}.github svg:hover{fill:#f1c50e}.header-side-container{display:flex;align-items:center;justify-content:space-between;max-width:200px;gap:10px}.menu-aside{padding:0 15px;height:100vh;width:220px;position:absolute;z-index:1000;top:0;right:-100%;background-color:#fff;-webkit-box-shadow:-9px 0px 8px 0px rgba(133,141,148,.2);-moz-box-shadow:-9px 0px 8px 0px rgba(133,141,148,.2);box-shadow:-9px 0px 8px 0px rgba(133,141,148,.2);transition:right .3s ease-out}.menu-aside.open{right:0}.overlay{top:0;left:0;right:0;bottom:0;display:flex;position:fixed;align-items:center;justify-content:center;background-color:rgba(0,0,0,.5);-webkit-tap-highlight-color:transparent;cursor:pointer;z-index:100}.menu-item{width:100%;height:48px;text-transform:capitalize;cursor:pointer;display:flex;align-items:center;margin-top:10px}.menu-item:hover .menu-icon,.menu-item:hover .menu-text{color:#f1c50e}.menu-item:hover .menu-games:after{border-color:#f1c50e transparent}.menu-icon{font-size:24px;margin-right:10px}.menu-games{position:relative}.menu-games .dropdown{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid rgba(0,0,0,.2);border-top:none;border-bottom:none;list-style:none;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-ms-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;max-height:0;overflow:hidden}.menu-games .dropdown li{padding:0 10px}.menu-games .dropdown li div{display:block;text-decoration:none;color:#000;padding:10px 0;transition:all .3s ease-out;border-bottom:1px solid #e6e8ea}.menu-games .dropdown li:last-of-type div{border:none}.menu-games .dropdown li i{margin-right:5px;color:inherit;vertical-align:middle}.menu-games .dropdown li:hover div{color:#f1c50e}.menu-games.active:after{border-color:#f1c50e transparent}.menu-games.active .dropdown{border-bottom:1px solid rgba(0,0,0,.2);max-height:400px}html,body{height:100%}body{overflow-x:hidden}.wrapper{min-height:100%;display:flex;flex-direction:column}.main{height:300px;flex:1 1 auto;display:flex;justify-content:center;overflow:auto;background:#fff}.main-content{max-width:1200px;width:100%;display:flex;align-items:center;flex-direction:column;height:100%;position:relative}.wrapper-main-content{display:flex;align-items:center;justify-content:center}.home-page-bg{background-image:url('+I+");height:100%;width:100%;background-position:center;background-repeat:no-repeat;background-size:cover}.rs-lang{align-self:start;margin:20% 0 10% 0;color:#fff;font-size:100px}.main-screen{min-height:770px;display:flex;align-items:center;flex-direction:column;margin-bottom:40px}.main-image{background-image:url("+I+");background-size:cover;background-position:center;width:100%;max-width:1100px;left:0;height:660px;position:absolute}.opportunity-container{display:flex;max-width:85%;justify-content:center;gap:30px;z-index:10}.opportunity-card{padding:1px;height:290px;width:290px;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(255,255,255,.7);cursor:pointer}.opportunity-card:hover{transform:scale(1.02)}.opportunity-card h3{text-transform:uppercase;font-weight:bold}.opportunity-img{height:200px;width:200px;background-size:cover;background-position:center;border-radius:50%;margin-bottom:20px}.opportunity-learn{background-image:url("+z+")}.opportunity-play{background-image:url("+U+")}.opportunity-progress{background-image:url("+q+')}@media(max-width: 950px){.opportunity-container{display:none}}@media(max-width: 400px){.rs-lang{font-size:60px}}.team-info{color:#292d34;padding:20px;max-width:1200px;width:100%;display:flex;flex-direction:column;align-items:flex-start}.team-info-heading{text-transform:uppercase;font-weight:bold;font-size:36px}.team-underline{height:20px;width:150px;margin:20px 0 40px 0;background:#f1c50e}.members-info{display:flex;flex-direction:column;gap:30px;width:100%}.team-decoration{position:absolute;z-index:-1;width:100%;height:100%}.member-info{width:100%;min-height:150px;display:flex;align-items:center;gap:20px;background:#fff;position:relative;-webkit-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);-moz-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);box-shadow:4px 4px 8px 0px rgba(0,0,0,.2)}.member-info:after{content:"Вклад";text-transform:uppercase;font-weight:bold;position:absolute;top:20px;left:170px}.member-info:before{content:"";position:absolute;top:0px;left:0px;height:100%;background:#f1c50e;width:20px}.member{display:block;height:120px;width:120px;margin-left:25px;border-radius:50%;border:5px solid #f1c50e;background-size:cover;background-position:center}.member:hover{transform:scale(1.02)}.member-dasha{background-image:url('+R+")}.member-sergei{background-image:url("+B+")}.member-aleksei{background-image:url("+j+')}.tabs button{color:#666;text-decoration:none;width:100%}.form-wrap{background-color:#fff;position:absolute;width:320px;height:320px;top:-50%;left:50%;z-index:1000;transform:translate(-50%, -50%);transition:top .5s ease-in-out}.form-wrap .tabs{overflow:hidden}.form-wrap .tabs h3{float:left;width:50%}.form-wrap .tabs h3 button{padding:.5em 0;text-align:center;font-weight:400;background-color:#e6e7e8;display:block;color:#666}.form-wrap .tabs h3 button.active{background-color:#fff}.form-wrap .tabs-content{padding:1.5em}.form-wrap .tabs-content div[id$=tab-content]{display:none}.form-wrap .tabs-content .active{display:block !important}.form-wrap form .input{box-sizing:border-box;-moz-box-sizing:border-box;color:inherit;font-family:inherit;padding:.8em 0 10px .8em;border:1px solid #cfcfcf;outline:0;display:inline-block;margin:0 0 20px 0;padding-right:2em;width:100%}.form-wrap form .button{width:100%;padding:.8em 0 10px .8em;background-color:#f1c50e;border:none;color:#fff;cursor:pointer;text-transform:uppercase}.form-wrap form .button:hover{opacity:.8}.form-wrap form .checkbox{visibility:hidden;padding:20px;margin:.5em 0 1.5em}.form-wrap form .checkbox:checked+label:after{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100);opacity:1}.form-wrap form label[for]{position:relative;padding-left:20px;cursor:pointer}.form-wrap form label[for]:before{content:"";position:absolute;border:1px solid #cfcfcf;width:17px;height:17px;top:0px;left:-14px}.form-wrap form label[for]:after{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0;content:"";position:absolute;width:9px;height:5px;background-color:transparent;top:4px;left:-10px;border:3px solid #f1c50e;border-top:none;border-right:none;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.form-wrap .help-text{margin-top:.6em}.form-wrap .help-text p{text-align:center;font-size:14px}#user_email.wrong,#user_name.wrong,#user_pass-sign.wrong{border:1px solid #e9692c}.user-greeting{cursor:pointer;position:relative;padding:0 10px}.user-greeting:hover{color:#f1c50e}.log-out{position:absolute;left:0;bottom:-20px;padding:0 10px}#login-tab-content{position:relative}#login-tab-content .error{display:none;position:absolute;bottom:-20px;color:#e9692c;font-size:10px;align-items:center;justify-content:center;width:100%}#login-tab-content .error.visible{display:flex}.signup-form{position:relative}.signup-form .user-exists-hint{display:none;color:#e9692c;position:absolute;bottom:-15px;font-size:10px;width:100%;align-items:center;justify-content:center}.signup-form .user-exists-hint.visible{display:flex}.sign-up-username,.sign-up-password,.sign-up-email{position:relative}.sign-up-hint{display:none;position:absolute;top:-10px;color:#e9692c;font-size:10px}.sign-up-password-hint{top:-20px}.sign-up-hint.visible{display:block}.textbook{width:100%;height:100%;display:flex;justify-content:center}.games-links-container{font-size:24px;display:flex;max-width:50px;width:100%;gap:10px;justify-content:space-between}.games-links-container i{font-size:24px;display:block;cursor:pointer}.games-links-container i:hover{color:#f1c50e}.textbook-pages{font-size:24px}.textbook-container{max-width:1200px;width:100%}.disable{pointer-events:none}.textbook-header{min-height:42px;display:flex;justify-content:space-between;align-items:center;padding:5px 20px;gap:20px;flex-wrap:wrap}.textbook-pages{display:flex;max-width:300px;gap:10px}.textbook-page-btn.active{color:#292d34}[data-textbook="1"]{color:#f1c50e}[data-textbook="2"]{color:#ffbf00}[data-textbook="3"]{color:#ff9515}[data-textbook="4"]{color:#ff6a2b}[data-textbook="5"]{color:#db621c}[data-textbook="6"]{color:#e21818}[data-textbook="7"]{color:#dc146f}.textbook-page-btn{display:flex;align-items:center;gap:5px;cursor:pointer}.textbook-page-btn i{font-size:24px}.textbook-page-btn:hover{opacity:.8}.textbook-cards-container{display:flex;flex-direction:column;gap:20px;margin:20px 20px}@media(max-width: 425px){.textbook-header{flex-direction:column;align-items:center;justify-content:center;gap:10px}.textbook-header i{font-size:16px}}.textbook-pagination{height:42px;display:flex;align-items:center;justify-content:center;margin:10px;transition:visibility 0s}.textbook-pagination.invisible{visibility:hidden}.textbook-pagination .btn{width:25px;height:25px;border:none;display:flex;align-items:center;justify-content:center}.btn.active{background:rgba(0,0,0,.1);border-radius:50%}.pagination{display:flex;gap:10px;max-width:700px;justify-content:space-between}.textbook-card-container{display:flex;position:relative;background:#fff;-webkit-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);-moz-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);gap:20px;padding-left:20px}.textbook-card-text{display:flex;flex-direction:column;gap:10px;justify-content:space-between;margin-bottom:10px;margin-top:10px;padding-right:20px;width:calc(100% - 40px)}.textbook-card-decoration{position:absolute;height:100%;width:20px;top:0;left:0;background:#dc146f}.textbook-word-img{background-size:cover;background-position:center;min-width:350px;width:350px;min-height:100%}.textbook-word-meaning,.textbook-word-example{display:flex;flex-direction:column;gap:5px}.textbook-word{display:flex;flex-direction:column;gap:5px}.textbook-card-word{text-transform:uppercase;font-weight:bold;color:#dc146f;display:flex;align-items:center;gap:10px}.textbook-card-translation{color:#dc146f;font-weight:bold}.textbook-card-transcription{color:#292d34}.textbook-card-example,.textbook-card-meaning{text-decoration:underline}.textbook-card-sound svg{fill:#dc146f;height:20px;cursor:pointer}.textbook-card-sound svg:hover{opacity:.8}.textbook-card-sound.disable{pointer-events:none}.textbook-authorized-buttons{font-size:14px;display:flex;gap:10px}.textbook-authorized-buttons button{background:#f1c50e;max-width:100px;height:24px;color:#fff;border:none}.textbook-authorized-buttons button,.textbook-delete-btn{max-width:100px;height:32px;color:#fff;border:none}.textbook-delete-btn{position:absolute;top:10px;right:20px;background:#dc146f}.star,.check{top:10px;left:30px;position:absolute;height:40px;width:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;text-align:center;background-color:rgba(0,0,0,.7)}.textbook-learnt-check,.textbook-star-difficult{font-size:24px;color:#f1c50e}@media(max-width: 820px){.textbook-card-container{flex-direction:column;display:flex;align-items:center}.textbook-card-text{display:flex;min-width:200px;align-items:center;padding-left:20px}.textbook-card-text .textbook-card-transcription,.textbook-card-text .textbook-card-translation,.textbook-card-text .textbook-word-meaning,.textbook-card-text .textbook-word-example{max-width:400px;width:100%;align-self:center}.textbook-word-img{height:200px;min-width:200px;width:100%}.textbook-word{flex-direction:column}.textbook-word-meaning,.textbook-word-example{align-self:flex-start}}.textbook-learnt-btn.disable,.textbook-difficult-btn.disable{pointer-events:none;opacity:.3}.progress-container{position:relative;width:100%;height:20px;background-color:#e5e5e5}.progress{height:20px;background-color:red}.progress-result{position:absolute;right:20px;top:3px;font-size:14px}.wrapper-stats{align-items:center;width:100%;display:flex;flex-direction:column;justify-content:space-around;font-size:24px;background-image:url('+O+");background-size:cover;color:#fff;box-shadow:inset 0 0 0 2000px rgba(41,45,52,.8)}.wrapper-sprint div,.wrapper-audio div,.wrapper-book div{height:50px}.wrapper-sprint,.wrapper-audio,.wrapper-book{width:100%;height:150px;border:3px solid #fff;display:flex;flex-direction:column;justify-content:space-around;background-color:#292d34}.wrapper-sprint-total,.wrapper-audio-total,.wrapper-book-total{max-width:600px;width:100%;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.new-words-sprint,.percent-right-answer-sprint,.longest-series-sprint,.new-words-audio,.percent-right-answer-audio,.longest-series-audio,.new-words-book,.count-learnt-book,.percent-right-answer-book{justify-content:space-around;display:flex;align-items:center;border-bottom:3px solid #fff;width:100%;height:30px}.longest-series-sprint,.percent-right-answer-book,.longest-series-audio{border-bottom:0px}.header-sprint,.header-audio,.header-book{margin-bottom:10px;font-size:32px;color:#f1c50e}.text-no-authorized{font-size:40px}@media(max-width: 610px){.wrapper-sprint-total,.wrapper-audio-total,.wrapper-book-total{max-width:300px}.header-sprint,.header-audio,.header-book{margin-bottom:10px;font-size:24px}.wrapper-sprint,.wrapper-audio,.wrapper-book{height:107px}.new-words-sprint,.percent-right-answer-sprint,.longest-series-sprint,.new-words-audio,.percent-right-answer-audio,.longest-series-audio,.new-words-book,.count-learnt-book,.percent-right-answer-book{font-size:13px}}.main-container-settings-games{padding:10px;max-width:500px;max-height:500px;background-color:#fff;border-radius:4px}.main-title-setting-games{font-size:45px;font-weight:bold;border-bottom:solid 1px #292d34;margin-bottom:20px;text-align:center}.description-title-setting-games{max-width:500px;font-size:20px;text-align:center}.title-difficulty-setting-games{font-size:28px;font-weight:bold;text-align:center;margin-top:40px}.container-buttons-level-setting-game{text-align:center;display:flex;text-align:center}.button-level-games{border-style:solid;border-width:1px;width:60px;line-height:40px;margin:20px auto;padding:8px 12px;margin-right:15px;font-size:60px}.button-level-games:last-child{margin-right:15px}.button-level-games.active{color:#fff}.button-level-games:hover{color:#fff}.button-level-one{background-color:#f1c50e}.button-level-two{background-color:#ffbf00}.button-level-three{background-color:#ff9515}.button-level-four{background-color:#ff6a2b}.button-level-five{background-color:#db621c}.button-level-six{background-color:#e21818}@media(max-width: 640px){.main-title-setting-games{font-size:36px;margin-bottom:10px}.description-title-setting-games{font-size:20px}.button-level-games{width:50px;line-height:50px;font-size:50px;padding:0}}@media(max-width: 540px){.main-title-setting-games{font-size:28px}.description-title-setting-games{font-size:16px}.button-level-games{width:40px;line-height:40px;font-size:40px;margin:5px 0 10px 0}.container-buttons-level-setting-game{display:grid;grid-template-columns:repeat(3, 1fr);justify-items:center}.main-container-settings-games{max-width:270px}.button-level-games:last-child{margin-right:0}.title-difficulty-setting-games{margin-top:20px}}.container-result-info-audio-game{border:1px solid #e5e5e5;margin:0 auto 1rem;padding:30px 50px;overflow:auto;max-width:400px;max-height:400px;background-color:#fff;display:flex;flex-direction:column;text-align:left;-webkit-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);-moz-box-shadow:4px 4px 8px 0px rgba(0,0,0,.2);box-shadow:4px 4px 8px 0px rgba(0,0,0,.2)}.correct-answer-title{color:#00563f;text-transform:uppercase;font-size:20px;margin-bottom:10px}.incorrect-answer-title{color:#e21818;text-transform:uppercase;font-size:20px;margin:10px 0}.volume-correct-answer,.volume-incorrect-answer{background-image:url("+L+");width:20px;height:20px;border-radius:50%;background-size:cover;padding:0;margin:0 0 5px 0;align-self:center;margin-right:10px}.incorrect-answer,.correct-answer{display:flex;flex-direction:row}.main-title-result-card{font-size:30px;text-align:center;margin-bottom:40px}.incorrect-answer-word,.correct-answer-word{font-weight:bold;font-size:18px}.incorrect-answer-translate,.correct-answer-translate{font-size:18px}.correct-answer-list{border-bottom:solid 1px #e5e5e5}@media(max-width: 640px){.container-result-info-audio-game{max-height:290px}}@media(max-width: 540px){.main-wrapper-audio-game{max-width:320px}.main-title-result-card{font-size:22px;margin-bottom:20px}.correct-answer-title,.incorrect-answer-title{font-size:16px}.correct-answer-word,.incorrect-answer-word{font-size:14px}.incorrect-answer-translate,.correct-answer-translate{font-size:14px}.button-audio-game.button-game-list-audio-game,.button-audio-game.button-play-again-audio-game{padding:2px 4px}.volume-correct-answer,.volume-incorrect-answer{width:16px;height:16px}.answer-text{font-size:30px}}@media(max-width: 540px)and (max-width: 340px){.main-wrapper-audio-game{max-width:300px}}",""]);const $=A},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=e(t);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,r){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(n[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&n[c[0]]||(o&&(c[2]?c[2]="".concat(o," and ").concat(c[2]):c[2]=o),t.push(c))}},t}},1667:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},9489:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"e63833f8ad0d0b126a84eb36371b1a26.jpg"},7436:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"2da7e9ccb9ed9a4ba2638b53c20a261a.png"},5612:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"24d6921bd9a12c4d74c3bcf46fb9f028.png"},3794:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"b31b897acd7419972f11bed07715af5e.png"},6897:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"bd45d4d3979bc57ca51a4047ac25f035.png"},7973:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"dc4763f69dcb969abe61d8089666f16f.png"},8775:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"dd9f9a22856bd6087e8c77708451515e.png"},4122:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"f6e779961e85d3e82bf575f10509c222.png"},1558:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"f72a617953a4d1f9487ea8e7a18f3521.png"},5551:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"34bb33718e0821966a333f850e9247b6.png"},1600:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"735e2b47bbc98bd6a7fc327b8f2a2efd.jpg"},864:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"df5b65e587a1e6357844673111b0b85b.jpg"},8611:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"b8f9ea1ed31cc66b29471a44d7a4d50b.png"},5334:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"d6850e7b3b9aa264f24fb10ac8a11cdb.svg"},2631:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"994fede3dcb6145eecd4c4ffd9417faf.svg"},9936:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"44ba62986ca14ef3a8f93a6d40ea7da1.svg"},1948:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"a35ba1d9cedfdef3df06da7a86854d71.svg"},9967:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var r=o(3379),n=o.n(r),i=o(9137);n()(i.Z,{insert:"head",singleton:!1});const a=i.Z.locals||{}},3379:(e,t,o)=>{var r,n=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),i=[];function a(e){for(var t=-1,o=0;o<i.length;o++)if(i[o].identifier===e){t=o;break}return t}function s(e,t){for(var o={},r=[],n=0;n<e.length;n++){var s=e[n],c=t.base?s[0]+t.base:s[0],d=o[c]||0,l="".concat(c," ").concat(d);o[c]=d+1;var u=a(l),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:l,updater:g(p,t),references:1}),r.push(l)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=o.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=n(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,l=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,o,r){var n=o?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,n);else{var i=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,o){var r=o.css,n=o.media,i=o.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,m=0;function g(e,t){var o,r,n;if(t.singleton){var i=m++;o=h||(h=c(t)),r=u.bind(null,o,i,!1),n=u.bind(null,o,i,!0)}else o=c(t),r=p.bind(null,o,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var o=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<o.length;r++){var n=a(o[r]);i[n].references--}for(var c=s(e,t),d=0;d<o.length;d++){var l=a(o[d]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}o=c}}}},5491:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=o(9586),n=o(2002);t.App=class{constructor(){this.router=new r.Router,this.pageTemplate=new n.PageTemplate}start(){this.pageTemplate.drawPageTemplate(),this.router.changePages(),this.router.drawCurrentPage()}}},6126:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioGamePage=void 0;const r=o(1899),n=o(9782),i=o(2765),a=o(1560),s=o(2340),c=o(4668),d=o(1478),l=o(8173);var u;!function(e){e.BUTTON_ONE="Digit1",e.BUTTON_TWO="Digit2",e.BUTTON_THREE="Digit3",e.BUTTON_FOUR="Digit4",e.BUTTON_FIVE="Digit5",e.BUTTON_SPACE="Space",e.BUTTON_ENTER="Enter"}(u||(u={})),t.AudioGamePage=class{constructor(){this.activeWordIndex=0,this.totalPage=30,this.totalWord=20,this.activeGroup=0,this.url="https://rs-lang-2022.herokuapp.com/",this.isAnswer=!1,this.isPlaying=!1,this.correctAnswer=[],this.incorrectAnswer=[],this.words=[],this.controller=new c.ControllerWords,this.helpers=new s.HelpersAudioGame,this.soundGame=new a.AudioGameSound,this.templateAudioGame=new i.TemplateHtmlAudioGame,this.controllerUserWords=new n.ControllerUserWords,this.controllerAggregated=new r.ControllerAggregated,this.start=new d.StartGame((e=>this.startCallback(e)),"Аудио вызов","Проверьте свои навыки слушания,\n  пытаясь подобрать правильное значение после услышанного слова"),this.handleKeyboardEvent=e=>{this.handleEnterButton(e),this.handleSpaceButton(e),this.handleDigitsButtons(e)},this.handleEnterButton=e=>{const t=this.pageContainer.querySelector(".button-answer-audio-game"),o=this.pageContainer.querySelector(".button-next-card-audio-game");if(e.code===u.BUTTON_ENTER){const e=this.activeWordIndex+1===this.totalWord,r=this.words[this.activeWordIndex];if(this.isAnswer)e?this.resultCard.createResultGameCard(this.correctAnswer,this.incorrectAnswer):(t.style.display="inline-block",o.style.display="none",this.activeWordIndex+=1,this.drawGameCard());else{this.incorrectAnswer.push(r),t.style.display="none",o.style.display="inline-block";const e=r.id,n=document.querySelector(`.button-word-audio-game[data-id='${e}']`);null!==n&&n.classList.add("correct"),this.soundGame.playSoundIncorrectAnswer(),this.createAnswer(),this.checkWordForSend(r.id,!1)}}},this.resultCard=new l.ResultCard((()=>this.startNewGame())),this.pageContainer=document.querySelector("body")}draw(){const e=document.querySelector("main");e.innerHTML="";const t=document.createElement("div");t.classList.add("main-wrapper-audio-game-page"),e.prepend(t),this.start.showGameSetting(t),this.soundGame.createSoundButton()}startCallback(e){this.activeGroup=e,this.startNewGame()}startNewGame(){this.resetGame();const e=this.helpers.getRandomInt(0,this.totalPage);this.controller.getWords(this.activeGroup,e).then((e=>{this.words=this.helpers.shuffleArray(e),this.activeWordIndex=0,this.drawGameCard(),document.removeEventListener("keydown",this.handleKeyboardEvent),document.addEventListener("keydown",this.handleKeyboardEvent)}))}resetGame(){this.correctAnswer=[],this.incorrectAnswer=[],this.words=[],this.activeWordIndex=0}setGameCardListener(){const e=document.querySelector(".main-wrapper-audio-game");null==e||e.addEventListener("click",(e=>{const t=e.target;t.classList.contains("button-word-audio-game")&&this.handleButton(t),this.activeWordIndex===this.totalWord&&this.resultCard.createResultGameCard(this.correctAnswer,this.incorrectAnswer)}))}handleButton(e){const{id:t}=e.dataset,o=this.words[this.activeWordIndex];o.id===t?(e.classList.add("correct"),this.correctAnswer.push(this.words[this.activeWordIndex]),this.soundGame.playSoundCorrectAnswer(),this.checkWordForSend(o.id,!0)):(e.classList.add("incorrect"),this.incorrectAnswer.push(this.words[this.activeWordIndex]),document.querySelector(`[data-id='${o.id}']`).classList.add("correct"),this.soundGame.playSoundIncorrectAnswer(),this.checkWordForSend(o.id,!1)),this.createAnswer()}checkWordForSend(e,t){const o=localStorage.getItem("user_id")||"",r=localStorage.getItem("user_access_token")||"";this.controllerUserWords.getUserWord(o,r,e).then((n=>{let{progress:i}=n.optional;const{difficulty:a}=n;t?("simple"===a&&i<3||"difficult"===a&&i<5)&&(i+=1):i>0&&(i-=1),this.controllerUserWords.updateUserWord(o,r,e,{difficulty:n.difficulty,optional:{new:n.optional.new,progress:i}})})).catch((t=>{t&&this.controllerUserWords.createUserWord(o,r,e,{difficulty:"simple",optional:{new:!1,progress:0}})}))}createAnswer(){this.isAnswer=!0,document.querySelectorAll(".button-word-audio-game").forEach((e=>{e.disabled=!0}));const e=document.querySelector(".answer-info-container"),t=document.createElement("img"),o=document.createElement("p");t.classList.add("img-answer"),t.src=this.url+this.words[this.activeWordIndex].image,o.classList.add("answer-text"),o.innerText=this.words[this.activeWordIndex].word,e.appendChild(o),e.appendChild(t);const r=this.pageContainer.querySelector(".button-answer-audio-game"),n=this.pageContainer.querySelector(".button-next-card-audio-game");r.style.display="none",n.style.display="inline-block"}drawNextCard(){this.isAnswer=!1;const e=this.pageContainer.querySelector(".button-answer-audio-game"),t=this.pageContainer.querySelector(".button-next-card-audio-game");null==e||e.addEventListener("click",(()=>{this.incorrectAnswer.push(this.words[this.activeWordIndex]);const o=this.words[this.activeWordIndex],r=o.id,n=document.querySelector(`.button-word-audio-game[data-id='${r}']`);null!==n&&n.classList.add("correct"),e.style.display="none",t.style.display="inline-block",this.soundGame.playSoundIncorrectAnswer(),this.createAnswer(),this.checkWordForSend(o.id,!1)})),t.addEventListener("click",(()=>{this.activeWordIndex<this.totalWord-1?(t.style.display="none",e.style.display="inline-block",this.activeWordIndex+=1,this.drawGameCard()):this.resultCard.createResultGameCard(this.correctAnswer,this.incorrectAnswer)}))}startAudio(e){if(!this.isPlaying){const t=new Audio(this.url+e.audio);t.play(),this.isPlaying=!0,t.addEventListener("ended",(()=>{this.isPlaying=!1})),null!==document.querySelector(".container-result-info-audio-game")&&t.pause()}}drawGameCard(){const e=this.words[this.activeWordIndex],t=this.generateOptions(e);this.startAudio(e),this.createButtonsWithAnswer(t),this.pageContainer.querySelector(".main-wrapper-audio-game-page").style.boxShadow="none",this.pageContainer.querySelector(".button-volume-audio-game").addEventListener("click",(()=>{this.startAudio(e)}))}handleSpaceButton(e){const t=this.words[this.activeWordIndex];e.code===u.BUTTON_SPACE&&this.startAudio(t)}handleDigitsButtons(e){const t=document.querySelectorAll(".button-word-audio-game");this.isAnswer||e.code!==u.BUTTON_ONE||this.handleButton(t[0]),this.isAnswer||e.code!==u.BUTTON_TWO||this.handleButton(t[1]),this.isAnswer||e.code!==u.BUTTON_THREE||this.handleButton(t[2]),this.isAnswer||e.code!==u.BUTTON_FOUR||this.handleButton(t[3]),this.isAnswer||e.code!==u.BUTTON_FIVE||this.handleButton(t[4])}generateOptions(e){const t=[];for(t.push({id:e.id,word:e.wordTranslate});t.length<5;){const e=this.helpers.getRandomInt(0,this.words.length),o=this.words[e];t.find((e=>e.id===o.id))||t.push({id:o.id,word:o.wordTranslate})}return this.helpers.shuffleArray(t)}createButtonsWithAnswer(e){const t=document.querySelector(".main-wrapper-audio-game-page");t.innerHTML="",t.innerHTML=this.templateAudioGame.baseTemplate;const o=this.pageContainer.querySelector(".main-container-audio-game"),r=document.createElement("div");r.classList.add("button-wrapper-audio-game"),e.forEach((e=>{const t=document.createElement("button");t.classList.add("button-audio-game","button-word-audio-game"),t.innerHTML=e.word,t.dataset.id=e.id,r.appendChild(t),null==o||o.appendChild(r)})),this.drawNextCard(),this.setGameCardListener()}drawAudioGameFromBookPage(){document.querySelector(".main").innerHTML="",this.resetGame();const e=Number(localStorage.getItem("currPage")),t=Number(localStorage.getItem("currGroup"));this.controller.getWords(t,e).then((e=>{const t=localStorage.getItem("user_id")||"",o=localStorage.getItem("user_access_token")||"";t&&o?this.controllerAggregated.getAggregatedLearnedWord(t,o).then((t=>{const o=e.filter((e=>t[0].paginatedResults.every((t=>e.word!==t.word))));this.drawBookGame(o)})):this.drawBookGame(e)}))}drawBookGame(e){this.draw(),this.words=this.helpers.shuffleArray(e),this.activeWordIndex=0,this.drawGameCard(),document.removeEventListener("keydown",this.handleKeyboardEvent),document.addEventListener("keydown",this.handleKeyboardEvent)}}},1560:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioGameSound=void 0,t.AudioGameSound=class{constructor(){this.isMuted=!1}playSoundCorrectAnswer(){if(!this.isMuted){const e=new Audio;e.src="../assets/sounds/RightAnswer.mp3",e.play()}}playSoundIncorrectAnswer(){if(!this.isMuted){const e=new Audio;e.src="../assets/sounds/WrongAnswer.mp3",e.play()}}createSoundButton(){const e=document.querySelector("main"),t=document.createElement("div"),o=document.createElement("button");t.classList.add("button-sound-container"),o.classList.add("button-audio-game","button-sound"),t.append(o),e.prepend(t),this.setListenerButtonSound(o)}setListenerButtonSound(e){e.addEventListener("click",(()=>{e.classList.toggle("mute"),this.isMuted=!this.isMuted}))}}},2340:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HelpersAudioGame=void 0,t.HelpersAudioGame=class{shuffleArray(e){return e.sort((()=>Math.random()-.5))}getRandomInt(e,t){const o=Math.ceil(e),r=Math.floor(t);return Math.floor(Math.random()*(r-o))+o}}},2765:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateHtmlAudioGame=void 0,t.TemplateHtmlAudioGame=class{get baseTemplate(){return'\n    <div class="main-wrapper-audio-game">\n      <div class="main-container-audio-game">\n        <div class="answer-info-container">\n          <button class="button-audio-game button-volume-audio-game"></button>\n        </div>\n      </div>\n      <button class="button-audio-game button-answer-audio-game">не знаю</button>\n      <button class="button-audio-game button-next-card-audio-game"> → </button>\n\n    </div>\n      '}}},8092:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AuthHelper=void 0,t.AuthHelper=class{saveUserInfoInLocalStorage(e){localStorage.setItem("user_id",`${e.userId}`),localStorage.setItem("user_access_token",`${e.token}`)}drawGreeting(e){const t=document.querySelector(".header-side-container"),o=document.createElement("div");o.innerHTML=`Привет, ${e}`,o.classList.add("user-greeting"),t.prepend(o)}removeLogInBtn(){document.querySelector(".authorization-btn").remove()}createAuthorizationBtn(){const e=document.querySelector(".header-side-container"),t=document.createElement("button");t.classList.add("btn","authorization-btn"),t.innerHTML="Войти",e.prepend(t),this.toggleAuthorizationForm()}toggleAuthorizationForm(){const e=document.querySelector("body"),t=document.querySelector(".authorization-btn"),o=document.createElement("div");o.classList.add("overlay"),t.addEventListener("click",(()=>{this.openAuthorizationForm(),e.append(o)})),o.addEventListener("click",(()=>{this.closeAuthorizationForm()}))}closeAuthorizationForm(){const e=document.querySelector(".form-wrap"),t=document.querySelector(".overlay");e.style.top="-50%",t.remove()}openAuthorizationForm(){document.querySelector(".form-wrap").style.top="50%"}showAuthHint(e){document.querySelector(`${e}`).classList.add("visible")}hideAuthHint(e){const t=document.querySelector("body"),o=document.querySelector(`${e}`);t.addEventListener("click",(()=>{o.classList.contains("visible")&&o.classList.remove("visible")}))}}},4964:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Authorization=void 0;const r=o(2835),n=o(8092),i=o(817),a=o(7764),s=o(849),c=o(53),d=o(1403);class l extends i.Controller{constructor(){super("users"),this.localStorageService=new s.LocalStorageService,this.helper=new n.AuthHelper,this.logOut=new a.LogOut}signIn(e){return fetch("https://rs-lang-2022.herokuapp.com/signin",{method:r.ApiMethod.Post,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json()))}checkIfAuthorized(){const e=this.localStorageService.get(c.USER_ID),t=this.localStorageService.get(c.USER_ACCESS_TOKEN);e&&t&&(this.helper.removeLogInBtn(),this.getUser(t,e).then((e=>{this.helper.drawGreeting(e.name),this.logOut.drawLogOutBtn()})).catch((e=>{e&&(this.localStorageService.clear(),this.logOut.logOut())})))}logIn(){const e=document.querySelector(".login-btn"),t=document.querySelector(".input-login-password"),o=document.querySelector(".input-login-email");e.addEventListener("click",(e=>{e.preventDefault();const r={email:o.value,password:t.value};this.signIn({email:r.email,password:r.password}).then((e=>{e&&(this.helper.saveUserInfoInLocalStorage(e),this.helper.closeAuthorizationForm()),window.location.replace(d.HOME_PATHNAME)})).catch((e=>{e&&this.helper.showAuthHint("#login-tab-content .error")}))}))}getUser(e,t){return this.get(e,t)}}t.Authorization=l},2610:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorizationForm=void 0;const r=o(1550),n=o(4786),i=o(8092),a=o(4964);t.AuthorizationForm=class{constructor(){this.validation=new r.Validation,this.registration=new n.Registration,this.helper=new i.AuthHelper,this.authorization=new a.Authorization}drawAuthorization(){this.helper.createAuthorizationBtn(),this.createAuthorizationForm(),this.toggleAuthorizationMode(),this.validation.validateForm(),this.registration.register(),this.authorization.logIn(),this.authorization.checkIfAuthorized(),this.helper.hideAuthHint("#login-tab-content .error"),this.helper.hideAuthHint(".user-exists-hint")}createAuthorizationForm(){const e=document.querySelector(".wrapper"),t=document.createElement("div");t.classList.add("form-wrap"),t.innerHTML='\n    <div class="tabs">\n        <h3 class="signup-tab">\n            <button class="active">Регистрация</button>\n        </h3>\n        <h3 class="login-tab">\n            <button>Вход</button>\n        </h3>\n    </div>\n    <div class="tabs-content">\n         <div id="signup-tab-content" class="active">\n         <form class="signup-form" action="" method="">\n            <div class="sign-up-email">\n                <div class="sign-up-hint sign-up-email-hint">Email должен быть вида rslang@gmail.com</div>\n                <input type="email" class="input input-email" id="user_email" autocomplete="off" placeholder="Email">\n            </div>\n            <div class="sign-up-username">\n                <div class="sign-up-hint sign-up-username-hint">Имя может содержать только цифры и буквы</div>\n                <input type="text" class="input input-user-name" id="user_name" autocomplete="off" placeholder="Имя">\n            </div>\n            <div class="sign-up-password">\n                <div class="sign-up-hint sign-up-password-hint">Пароль должен состоять минимум из 8 символов и содержать цифры и буквы</div>\n                <input type="password" class="input input-password" id="user_pass-sign" autocomplete="off" placeholder="Пароль">\n            </div>\n            <input type="submit" class="button sign-up-btn" value="Регистрация">\n            <div class="user-exists-hint">Пользователь с таким email уже существует</div>\n         </form>\n    </div>\n    <div id="login-tab-content">\n         <form class="login-form" action="" method="">\n             <input type="text" class="input input-login-email" id="user_login" autocomplete="off" placeholder="Email">\n             <input type="password" class="input input-login-password" id="user_pass-login" autocomplete="off" placeholder="Пароль">\n             <input type="submit" class="button login-btn" value="Вход">\n             <div class="error">Неправильный email или пароль</div>\n         </form>\n    </div>\n    </div>\n    </div> ',e.append(t)}toggleAuthorizationMode(){const e=document.querySelectorAll(".tabs h3 button"),t=document.querySelector("#signup-tab-content"),o=document.querySelector("#login-tab-content");e.forEach((r=>{r.addEventListener("click",(n=>{[t,o,...e].forEach((e=>e.classList.remove("active"))),r.classList.toggle("active"),n.target.closest(".login-tab")?o.classList.add("active"):t.classList.add("active")}))}))}}},817:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;const r=o(2835);t.Controller=class{constructor(e){this.requestPathPart=e,this.apiUrl="https://rs-lang-2022.herokuapp.com"}get(e,t){return this.request({path:t,method:r.ApiMethod.Get},e)}post(e,t="",o){return o?this.request({path:t,method:r.ApiMethod.Post,body:e},o):this.request({path:t,method:r.ApiMethod.Post,body:e})}getURL(e=""){let t="";return e&&(t=`/${e}`),`${this.apiUrl}/${this.requestPathPart}${t}`}request(e,t){return fetch(this.getURL(e.path),Object.assign(Object.assign({method:e.method},e.body?{body:e.body}:{}),{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}})).then((e=>e.json()))}}},7764:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LogOut=void 0;const r=o(849),n=o(1403);t.LogOut=class{constructor(){this.localStorageService=new r.LocalStorageService}drawLogOutBtn(){const e=document.querySelector(".menu-aside"),t=document.createElement("button");t.classList.add("menu-item","log-out-btn"),t.innerHTML='<i class="fas fa-sign-out-alt menu-icon"></i>\n                    <div class="menu-text">Выход</div>',t.addEventListener("click",(()=>{this.logOut()})),e.append(t)}logOut(){this.localStorageService.clear(),window.location.replace(n.HOME_PATHNAME)}}},2835:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ApiMethod=void 0,(o=t.ApiMethod||(t.ApiMethod={})).Get="GET",o.Post="POST"},4786:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Registration=void 0;const r=o(817),n=o(4964),i=o(8092),a=o(1403);class s extends r.Controller{constructor(){super("users"),this.signIn=new n.Authorization,this.helper=new i.AuthHelper}createUser(e){return this.post(JSON.stringify(e))}register(){const e=document.querySelector(".sign-up-btn"),t=document.querySelector(".input-email"),o=document.querySelector(".input-password"),r=document.querySelector(".input-user-name");e.addEventListener("click",(e=>{if(e.preventDefault(),t.classList.contains("wrong")||o.classList.contains("wrong")||r.classList.contains("wrong"))return;const n={email:t.value,password:o.value,name:r.value};this.createUser(n).then((()=>{this.signIn.signIn({email:n.email,password:n.password}).then((e=>{this.helper.saveUserInfoInLocalStorage(e),this.helper.closeAuthorizationForm(),window.location.replace(a.HOME_PATHNAME)}))})).catch((e=>{e&&this.helper.showAuthHint(".user-exists-hint")}))}))}}t.Registration=s},1550:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Validation=void 0,t.Validation=class{validateForm(){document.querySelector(".sign-up-btn").addEventListener("submit",(e=>{e.preventDefault()})),this.validateUserName(),this.validatePassword(),this.validateEmail()}validateUserName(){const e=document.querySelector("#user_name"),t=document.querySelector(".sign-up-username-hint");e.addEventListener("input",(()=>{e.value.match(/^[а-яА-Яa-zA-Z0-9]*$/)||!e.value?(e.classList.remove("wrong"),t.classList.remove("visible")):(e.classList.add("wrong"),t.classList.add("visible"))}))}validatePassword(){const e=document.querySelector("#user_pass-sign"),t=document.querySelector(".sign-up-password-hint");e.addEventListener("input",(()=>{e.value.match(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)||!e.value?(e.classList.remove("wrong"),t.classList.remove("visible")):(e.classList.add("wrong"),t.classList.add("visible"))}))}validateEmail(){const e=document.querySelector("#user_email"),t=document.querySelector(".sign-up-email-hint");e.addEventListener("input",(()=>{e.value.match(/^(([^<>()[\]\\.,;:\s@]+(\.[^<>()[\]\\.,;:\s@]+)*)|(.+))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||!e.value?(e.classList.remove("wrong"),t.classList.remove("visible")):(e.classList.add("wrong"),t.classList.add("visible"))}))}}},1899:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerAggregated=void 0,t.ControllerAggregated=class{getAggregatedWord(e,t,o,r){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/aggregatedWords?filter={"$and":[{"userWord.optional.addingMethodWords":"${o}", "userWord.optional.timeStamp":"${r}"}]}&wordsPerPage=1000`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json()))}getAggregatedLearnedWord(e,t){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/aggregatedWords?filter={"$or":[{"$and":[{"userWord.difficulty":"simple", "userWord.optional.progress":3}]},{"userWord.difficulty":"difficult", "userWord.optional.progress":5}]}&wordsPerPage=1000`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json()))}}},7767:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerSettings=void 0,t.ControllerSettings=class{getSettings(e,t){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/settings`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json()))}updateSettings(e,t,o){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/settings`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>e.json()))}}},2592:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerStatistics=void 0,t.ControllerStatistics=class{getStatistics(e,t){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/statistics`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json()))}updateStatistics(e,t,o){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>e.json()))}}},9782:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerUserWords=void 0,t.ControllerUserWords=class{getUserWords(e,t){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/words`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json()))}getUserWord(e,t,o){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/words/${o}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json()))}createUserWord(e,t,o,r){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/words/${o}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>e.ok?e.json():Promise.reject(e)))}updateUserWord(e,t,o,r){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/words/${o}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((e=>e.json()))}deleteUserWord(e,t,o){return fetch(`https://rs-lang-2022.herokuapp.com/users/${e}/words/${o}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json()))}}},4668:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerWords=void 0,t.ControllerWords=class{constructor(){this.url="https://rs-lang-2022.herokuapp.com"}getWords(e,t=1){return o(this,void 0,void 0,(function*(){const o=`${this.url}/words?group=${e}&page=${t}`,r=yield fetch(o);return yield r.json()}))}getWord(e){return o(this,void 0,void 0,(function*(){const t=`${this.url}/words/${e}`,o=yield fetch(t);return yield o.json()}))}}},5689:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;const r=o(1403);t.Footer=class{drawFooter(){const e=document.querySelector(".wrapper"),t=document.createElement("footer");t.classList.add("footer"),t.innerHTML='<div class="github-container">\n    <a href="https://github.com/Runeci" target="_blank" class="github">\n       <p>Runeci</p>\n       <i class="fab fa-github"></i>\n    </a>\n    <a href="https://github.com/Alhladkiy" target="_blank" class="github">\n       <p>Alhladkiy</p>\n       <i class="fab fa-github"></i>\n    </a>\n    <a href="https://github.com/seregaby2" target="_blank" class="github">\n        <p>Seregaby2</p>\n        <i class="fab fa-github"></i>\n    </a>\n       </div>\n       <div class="footer-year-container">\n         <div>2022</div>\n          <a class="rs-logo" href="https://rs.school/js/" target="_blank">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 552.8 205.3"><style>.st0{fill:#fff}.st1{clip-path:url(#SVGID_2_)}.st2{clip-path:url(#SVGID_4_)}.st3{clip-path:url(#SVGID_6_)}.st4{clip-path:url(#SVGID_8_)}.st5{fill:#fff;stroke:#000;stroke-width:4;stroke-miterlimit:10}.st6{clip-path:url(#SVGID_8_)}.st6,.st7{fill:none;stroke:#000;stroke-width:4;stroke-miterlimit:10}.st8,.st9{clip-path:url(#SVGID_10_)}.st9{fill:none;stroke:#000;stroke-width:4;stroke-miterlimit:10}</style><title>rs_school_js</title><path d="M285.4 68l26.3-1.7c.6 4.3 1.7 7.5 3.5 9.8 2.9 3.6 6.9 5.4 12.2 5.4 3.9 0 7-.9 9.1-2.8 2-1.5 3.2-3.9 3.2-6.4 0-2.4-1.1-4.7-3-6.2-2-1.8-6.7-3.6-14.1-5.2-12.1-2.7-20.8-6.3-25.9-10.9-5.1-4.3-8-10.6-7.8-17.3 0-4.6 1.4-9.2 4-13 3-4.3 7.1-7.7 12-9.6 5.3-2.3 12.7-3.5 22-3.5 11.4 0 20.1 2.1 26.1 6.4 6 4.2 9.6 11 10.7 20.3l-26 1.5c-.7-4-2.1-6.9-4.4-8.8s-5.3-2.8-9.2-2.8c-3.2 0-5.6.7-7.2 2-1.5 1.2-2.5 3-2.4 5 0 1.5.8 2.9 2 3.8 1.3 1.2 4.4 2.3 9.3 3.3 12.1 2.6 20.7 5.2 26 7.9 5.3 2.7 9.1 6 11.4 9.9 2.4 4 3.6 8.6 3.5 13.3 0 5.6-1.6 11.2-4.8 15.9-3.3 4.9-7.9 8.7-13.3 11-5.7 2.5-12.9 3.8-21.5 3.8-15.2 0-25.7-2.9-31.6-8.8S286.1 77 285.4 68zM6.3 97.6V8.2h46.1c8.5 0 15.1.7 19.6 2.2 4.4 1.4 8.3 4.3 10.9 8.2 2.9 4.3 4.3 9.3 4.2 14.5.3 8.8-4.2 17.2-11.9 21.6-3 1.7-6.3 2.9-9.7 3.5 2.5.7 5 1.9 7.2 3.3 1.7 1.4 3.1 3 4.4 4.7 1.5 1.7 2.8 3.6 3.9 5.6l13.4 25.9H63L48.2 70.2c-1.9-3.5-3.5-5.8-5-6.9-2-1.4-4.4-2.1-6.8-2.1H34v36.3H6.3zM34 44.4h11.7c2.5-.2 4.9-.6 7.3-1.2 1.8-.3 3.4-1.3 4.5-2.8 2.7-3.6 2.3-8.7-1-11.8-1.8-1.5-5.3-2.3-10.3-2.3H34v18.1zM0 174.2l26.3-1.7c.6 4.3 1.7 7.5 3.5 9.8 2.8 3.6 6.9 5.5 12.2 5.5 3.9 0 7-.9 9.1-2.8 2-1.6 3.2-3.9 3.2-6.4 0-2.4-1.1-4.7-3-6.2-2-1.8-6.7-3.6-14.2-5.2-12.1-2.7-20.8-6.3-25.9-10.9-5.1-4.3-8-10.6-7.8-17.3 0-4.6 1.4-9.2 4-13 3-4.3 7.1-7.7 12-9.6 5.3-2.3 12.7-3.5 22-3.5 11.4 0 20.1 2.1 26.1 6.4s9.5 11 10.6 20.3l-26 1.5c-.7-4-2.1-6.9-4.4-8.8-2.2-1.9-5.3-2.8-9.2-2.7-3.2 0-5.6.7-7.2 2.1-1.6 1.2-2.5 3-2.4 5 0 1.5.8 2.9 2 3.8 1.3 1.2 4.4 2.3 9.3 3.3 12.1 2.6 20.7 5.2 26 7.9 5.3 2.7 9.1 6 11.4 9.9 2.4 4 3.6 8.6 3.6 13.2 0 5.6-1.7 11.1-4.8 15.8-3.3 4.9-7.9 8.7-13.3 11-5.7 2.5-12.9 3.8-21.5 3.8-15.2 0-25.7-2.9-31.6-8.8-5.9-6-9.2-13.4-10-22.4z"/><path d="M133 167.2l24.2 7.3c-1.3 6.1-4 11.9-7.7 17-3.4 4.5-7.9 8-13 10.3-5.2 2.3-11.8 3.5-19.8 3.5-9.7 0-17.7-1.4-23.8-4.2-6.2-2.8-11.5-7.8-16-14.9-4.5-7.1-6.7-16.2-6.7-27.3 0-14.8 3.9-26.2 11.8-34.1s19-11.9 33.4-11.9c11.3 0 20.1 2.3 26.6 6.8 6.4 4.6 11.2 11.6 14.4 21l-24.4 5.4c-.6-2.1-1.5-4.2-2.7-6-1.5-2.1-3.4-3.7-5.7-4.9-2.3-1.2-4.9-1.7-7.5-1.7-6.3 0-11.1 2.5-14.4 7.6-2.5 3.7-3.8 9.6-3.8 17.6 0 9.9 1.5 16.7 4.5 20.4 3 3.7 7.2 5.5 12.7 5.5 5.3 0 9.3-1.5 12-4.4 2.7-3.1 4.7-7.4 5.9-13zm56.5-52.8h27.6v31.3h30.2v-31.3h27.8v89.4h-27.8v-36.2h-30.2v36.2h-27.6v-89.4z"/><path d="M271.3 159.1c0-14.6 4.1-26 12.2-34.1 8.1-8.1 19.5-12.2 34-12.2 14.9 0 26.3 4 34.4 12S364 144 364 158.4c0 10.5-1.8 19-5.3 25.7-3.4 6.6-8.7 12-15.2 15.6-6.7 3.7-15 5.6-24.9 5.6-10.1 0-18.4-1.6-25-4.8-6.8-3.4-12.4-8.7-16.1-15.2-4.1-7-6.2-15.7-6.2-26.2zm27.6.1c0 9 1.7 15.5 5 19.5 3.3 3.9 7.9 5.9 13.7 5.9 5.9 0 10.5-1.9 13.8-5.8s4.9-10.8 4.9-20.8c0-8.4-1.7-14.6-5.1-18.4-3.4-3.9-8-5.8-13.8-5.8-5.1-.2-10 2-13.4 5.9-3.4 3.9-5.1 10.4-5.1 19.5zm93.4-.1c0-14.6 4.1-26 12.2-34.1 8.1-8.1 19.5-12.2 34-12.2 14.9 0 26.4 4 34.4 12S485 144 485 158.4c0 10.5-1.8 19-5.3 25.7-3.4 6.6-8.7 12-15.2 15.6-6.7 3.7-15 5.6-24.9 5.6-10.1 0-18.4-1.6-25-4.8-6.8-3.4-12.4-8.7-16.1-15.2-4.1-7-6.2-15.7-6.2-26.2zm27.6.1c0 9 1.7 15.5 5 19.5 3.3 3.9 7.9 5.9 13.7 5.9 5.9 0 10.5-1.9 13.8-5.8 3.3-3.9 4.9-10.8 4.9-20.8 0-8.4-1.7-14.6-5.1-18.4-3.4-3.9-8-5.8-13.8-5.8-5.1-.2-10.1 2-13.4 5.9-3.4 3.9-5.1 10.4-5.1 19.5z"/><path d="M482.1 114.4h27.6v67.4h43.1v22H482v-89.4z"/><ellipse transform="rotate(-37.001 420.46 67.88)" class="st0" cx="420.5" cy="67.9" rx="63" ry="51.8"/><defs><ellipse id="SVGID_1_" transform="rotate(-37.001 420.46 67.88)" cx="420.5" cy="67.9" rx="63" ry="51.8"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" overflow="visible"/></clipPath><g class="st1"><path transform="rotate(-37.001 420.82 68.353)" class="st0" d="M330.9-14.2h179.8v165.1H330.9z"/><g id="Layer_2_1_"><defs><path id="SVGID_3_" transform="rotate(-37.001 420.82 68.353)" d="M330.9-14.2h179.8v165.1H330.9z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" overflow="visible"/></clipPath><g id="Layer_1-2" class="st2"><ellipse transform="rotate(-37.001 420.46 67.88)" class="st0" cx="420.5" cy="67.9" rx="63" ry="51.8"/><defs><ellipse id="SVGID_5_" transform="rotate(-37.001 420.46 67.88)" cx="420.5" cy="67.9" rx="63" ry="51.8"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" overflow="visible"/></clipPath><g class="st3"><path transform="rotate(-37 420.799 68.802)" class="st0" d="M357.8 17h125.9v103.7H357.8z"/><defs><path id="SVGID_7_" transform="rotate(-37 420.799 68.802)" d="M357.8 17h125.9v103.7H357.8z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" overflow="visible"/></clipPath><g class="st4"><ellipse transform="rotate(-37.001 420.46 67.88)" class="st5" cx="420.5" cy="67.9" rx="63" ry="51.8"/></g><path transform="rotate(-37 420.799 68.802)" class="st6" d="M357.8 17h125.9v103.7H357.8z"/><ellipse transform="rotate(-37.001 420.46 67.88)" class="st7" cx="420.5" cy="67.9" rx="63" ry="51.8"/><path transform="rotate(-37 420.799 68.802)" class="st0" d="M357.8 17h125.9v103.7H357.8z"/><defs><path id="SVGID_9_" transform="rotate(-37 420.799 68.802)" d="M357.8 17h125.9v103.7H357.8z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" overflow="visible"/></clipPath><g class="st8"><ellipse transform="rotate(-37.001 420.46 67.88)" class="st5" cx="420.5" cy="67.9" rx="63" ry="51.8"/></g><path transform="rotate(-37 420.799 68.802)" class="st9" d="M357.8 17h125.9v103.7H357.8z"/><path transform="rotate(-37.001 420.82 68.353)" class="st7" d="M330.9-14.2h179.8v165.1H330.9z"/></g><ellipse transform="rotate(-37.001 420.46 67.88)" class="st7" cx="420.5" cy="67.9" rx="63" ry="51.8"/><path d="M392.4 61.3l10-7 12.3 17.5c2.1 2.8 3.7 5.8 4.9 9.1.7 2.5.5 5.2-.5 7.6-1.3 3-3.4 5.5-6.2 7.3-3.3 2.3-6.1 3.6-8.5 4-2.3.4-4.7 0-6.9-1-2.4-1.2-4.5-2.9-6.1-5.1l8.6-8c.7 1.1 1.6 2.1 2.6 2.9.7.5 1.5.8 2.4.8.7 0 1.4-.3 1.9-.7 1-.6 1.7-1.8 1.6-3-.3-1.7-1-3.4-2.1-4.7l-14-19.7zm30 11.1l9.1-7.2c1 1.2 2.3 2.1 3.7 2.6 2 .6 4.1.2 5.8-1.1 1.2-.8 2.2-1.9 2.6-3.3.6-1.8-.4-3.8-2.2-4.4-.3-.1-.6-.2-.9-.2-1.2-.1-3.3.4-6.4 1.7-5.1 2.1-9.1 2.9-12.1 2.6-2.9-.3-5.6-1.8-7.2-4.3-1.2-1.7-1.8-3.7-1.9-5.7 0-2.3.6-4.6 1.9-6.5 1.9-2.7 4.2-5 7-6.8 4.2-2.9 7.9-4.3 11.1-4.3 3.2 0 6.2 1.5 9 4.6l-9 7.1c-1.8-2.3-5.2-2.8-7.5-1l-.3.3c-1 .6-1.7 1.5-2.1 2.6-.3.8-.1 1.7.4 2.4.4.5 1 .9 1.7.9.8.1 2.2-.3 4.2-1.2 5-2.1 8.8-3.3 11.4-3.7 2.2-.4 4.5-.2 6.6.7 1.9.8 3.5 2.2 4.6 3.9 1.4 2 2.2 4.4 2.3 6.9.1 2.6-.6 5.1-2 7.3-1.8 2.7-4.1 5-6.8 6.8-5.5 3.8-10 5.4-13.6 4.8-3.9-.6-7.1-2.6-9.4-5.5z"/></g></g></g></svg>\n           </a>\n        </div>\n       ',e.append(t)}hideFooter(){const e=document.querySelector(".footer");"#/sprint"===window.location.hash||"#/audiocall"===window.location.hash||"#/sprint-textbook"===window.location.hash||"#/audiocall-textbook"===window.location.hash?e.style.display="none":(window.location.pathname,r.HOME_PATHNAME,e.style.display="flex")}}},1866:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderView=void 0,t.HeaderView=class{drawHeader(){const e=document.querySelector(".wrapper"),t=this.createHeaderContainer(),o=document.createElement("div");o.classList.add("header-side-container");const r=this.createBurgerMenu(),n=this.createLogo(),i=document.createElement("div");i.classList.add("loader"),o.append(r),t.append(n),t.append(o),t.append(i),e.prepend(t)}createHeaderContainer(){const e=document.createElement("header");return e.classList.add("header"),e}createBurgerMenu(){const e=document.createElement("div");e.classList.add("header-menu","menu-btn","btn");const t=document.createElement("div");return t.classList.add("menu-btn__burger"),e.append(t),e}createLogo(){const e=document.createElement("button");return e.classList.add("header-logo","logo"),e.innerHTML="RL",e}}},1906:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MenuAside=void 0;const r=o(53);t.MenuAside=class{constructor(){this.menuButtons=[{className:"book",iconClass:"book",text:"учебник"},{className:"games",iconClass:"gamepad",text:"игры"},{className:"team",iconClass:"user-friends",text:"о команде"},{className:"overview",iconClass:"film",text:"обзор"}],this.menuUserButtons=[{className:"book",iconClass:"book",text:"учебник"},{className:"games",iconClass:"gamepad",text:"игры"},{className:"stats",iconClass:"signal",text:"статистика"},{className:"team",iconClass:"user-friends",text:"о команде"},{className:"overview",iconClass:"film",text:"обзор"}]}drawMenuAside(){const e=document.querySelector(".wrapper"),t=this.createMenuAsise();e.append(t),this.toggleBurgerMenu(),this.createGamesDropdown()}closeMenuAside(){const e=document.querySelector(".menu-aside"),t=document.querySelector(".menu-games"),o=document.querySelector(".overlay");e.classList.remove("open"),t.classList.remove("active"),o.remove()}toggleBurgerMenu(){const e=document.querySelector("body"),t=document.querySelector(".menu-btn"),o=document.querySelector(".menu-aside"),r=this.createOverlay(),n=document.getElementsByClassName("menu-item");t.addEventListener("click",(()=>{o.classList.add("open"),e.prepend(r)})),[r,...n].forEach((e=>{"games"!==e.dataset.route&&e.addEventListener("click",(()=>this.closeMenuAside()))}))}createOverlay(){const e=document.createElement("div");return e.classList.add("overlay"),e}createMenuAsise(){const e=document.createElement("aside");e.classList.add("menu-aside");let t,o="";return t=localStorage.getItem(r.USER_ID)?this.menuUserButtons:this.menuButtons,t.forEach((e=>{o+=this.createMenuButton(e)})),e.innerHTML=o,e}createMenuButton(e){return`<button class="menu-${e.className} menu-item" data-route="${e.className}">\n                    <i class="fas fa-${e.iconClass} menu-icon" data-route="${e.className}"></i>\n                    <div class="menu-text" data-route="${e.className}">${e.text}</div>\n                  </button>`}createGamesDropdown(){const e=document.querySelector(".menu-games");e.classList.add("wrapper-dropdown");const t=document.createElement("ul");t.classList.add("dropdown"),t.innerHTML='<li><div class="audiocall" data-route="audiocall">Аудиовызов</div></li>\n                    <li><div class="sprint page-btn"  data-route="sprint">Спринт</div></li>',e.addEventListener("click",(()=>{e.classList.toggle("active")})),t.addEventListener("click",(()=>{this.closeMenuAside(),e.classList.toggle("active")})),e.append(t)}}},53:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.USER_ACCESS_TOKEN=t.USER_ID=t.CURRENT_GROUP=t.CURRENT_PAGE=void 0,t.CURRENT_PAGE="currPage",t.CURRENT_GROUP="currGroup",t.USER_ID="user_id",t.USER_ACCESS_TOKEN="user_access_token"},2002:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageTemplate=void 0;const r=o(1866),n=o(5689),i=o(1906),a=o(2610);t.PageTemplate=class{constructor(){this.header=new r.HeaderView,this.footer=new n.Footer,this.menuAside=new i.MenuAside,this.authorization=new a.AuthorizationForm}drawPageTemplate(){this.createWrapper(),this.header.drawHeader(),this.menuAside.drawMenuAside(),this.footer.drawFooter(),this.authorization.drawAuthorization()}createWrapper(){const e=document.querySelector("body"),t=document.createElement("div"),o=document.createElement("main");o.classList.add("main"),t.classList.add("wrapper"),t.append(o),e.append(t)}}},8173:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResultCard=void 0,t.ResultCard=class{constructor(e){this.url="https://rs-lang-2022.herokuapp.com/",this.maxResult=20,this.pageContainer=document.querySelector("body"),this.audioGameCallback=e}createResultGameCard(e,t){this.pageContainer.querySelector(".main-wrapper-audio-game-page").style.boxShadow="inset 0 0 0 2000px rgb(41 45 52 / 80%)";const o=this.pageContainer.querySelector(".main-wrapper-audio-game");o.innerHTML="";const r=document.createElement("h2"),n=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),s=document.createElement("h3"),c=document.createElement("h3"),d=document.createElement("span"),l=document.createElement("span");r.classList.add("main-title-result-card"),n.classList.add("container-result-info-audio-game"),i.classList.add("correct-answer-list"),a.classList.add("incorrect-answer-list"),s.classList.add("correct-answer-title"),c.classList.add("incorrect-answer-title"),d.classList.add("count-correct-answer"),l.classList.add("count-incorrect-answer"),e.length<t.length&&(r.innerHTML="В этот раз не получилось, продолжай тренироваться!"),e.length>t.length&&(r.innerHTML="Поздравляем, отличный результат, но ты можешь лучше!"),e.length===this.maxResult&&(r.innerHTML="Превосходно!!! Вы все знаете!!!"),this.createCorrectAnswer(i,e),this.createIncorrectAnswer(a,t),s.innerHTML=`Знаю: ${e.length}`,c.innerHTML=`Ошибок: ${t.length}`,s.appendChild(d),c.appendChild(l),c.appendChild(l),n.appendChild(r),n.appendChild(s),n.appendChild(i),n.appendChild(c),n.appendChild(a),o.appendChild(n),this.createButtonsResultGame(),this.setListenerButtonPlayAgain(),this.setListenerVolumeWord()}createCorrectAnswer(e,t){t.forEach((t=>{const o=document.createElement("div"),r=document.createElement("div"),n=document.createElement("div"),i=document.createElement("span"),a=document.createElement("span"),s=document.createElement("span"),c=document.createElement("span");o.classList.add("correct-answer-main-container-result-info-audio-game"),r.classList.add("correct-answer"),n.classList.add("volume-correct-answer"),i.classList.add("correct-answer-word"),a.classList.add("correct-answer-translate"),c.classList.add("correct-answer-transcript"),n.dataset.src=t.audio,i.innerHTML=t.word,a.innerHTML=t.wordTranslate,s.innerText=" - ",c.innerHTML=t.transcription,r.appendChild(n),r.appendChild(i),r.appendChild(c),r.appendChild(s),r.appendChild(a),o.appendChild(r),e.appendChild(r)}))}createIncorrectAnswer(e,t){t.forEach((t=>{const o=document.createElement("div"),r=document.createElement("div"),n=document.createElement("div"),i=document.createElement("span"),a=document.createElement("span"),s=document.createElement("span"),c=document.createElement("span");o.classList.add("incorrect-answer-container"),r.classList.add("incorrect-answer"),n.classList.add("volume-correct-answer"),i.classList.add("incorrect-answer-word"),a.classList.add("incorrect-answer-translate"),c.classList.add("incorrect-answer-transcript"),n.dataset.src=t.audio,i.innerHTML=t.word,a.innerHTML=t.wordTranslate,s.innerText=" - ",c.innerHTML=t.transcription,r.appendChild(n),r.appendChild(i),r.appendChild(c),r.appendChild(s),r.appendChild(a),o.appendChild(r),e.appendChild(o)}))}createButtonsResultGame(){const e=this.pageContainer.querySelector(".main-wrapper-audio-game"),t=document.createElement("div");t.classList.add("button-container-result-card"),[{label:"Играть еще",class:"button-play-again-audio-game"}].forEach((o=>{const r=document.createElement("button");r.classList.add("button-audio-game",o.class),r.innerHTML=o.label,t.appendChild(r),e.appendChild(t)}))}setListenerButtonPlayAgain(){const e=this.pageContainer.querySelector(".button-play-again-audio-game");null==e||e.addEventListener("click",(()=>{this.audioGameCallback()}))}setListenerVolumeWord(){this.pageContainer.querySelector(".container-result-info-audio-game").addEventListener("click",(e=>{const t=e.target,o=t.classList.contains("volume-incorrect-answer"),r=t.classList.contains("volume-correct-answer");if(o||r){const e=t.dataset.src,o=new Audio;o.src=this.url+e,o.play()}}))}}},849:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageService=void 0,t.LocalStorageService=class{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){return localStorage.getItem(e)||""}clear(){localStorage.clear()}}},1478:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StartGame=void 0;const o=[{group:0,label:"1",class:"button-level-one"},{group:1,label:"2",class:"button-level-two"},{group:2,label:"3",class:"button-level-three"},{group:3,label:"4",class:"button-level-four"},{group:4,label:"5",class:"button-level-five"},{group:5,label:"6",class:"button-level-six"}];t.StartGame=class{constructor(e,t,o){this.startButtonCallback=e,this.title=t,this.description=o}showGameSetting(e){e.innerHTML=this.getTemplate(),this.createLevelButtons(),this.setListenerLevelButtons()}getTemplate(){return`\n    <div class="main-container-settings-games">\n      <div class="container-main-title-setting-games">\n        <h2 class="main-title-setting-games">${this.title}</h2>\n      </div>\n      <div class="container-description-main-title-setting-games">\n        <p class="description-title-setting-games">${this.description}</p>\n      </div>\n      <div class="container-title-difficulties-games">\n        <p class="title-difficulty-setting-games">Выберите уровень</p>\n      </div>\n      <div class="container-buttons-level-setting-game"></div>\n    </div>`}setListenerLevelButtons(){document.querySelector(".container-buttons-level-setting-game").addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("button-level-games")){const e=document.querySelector(".button-level-games.active");null==e||e.classList.remove("active");const o=Number(t.dataset.group);t.classList.add("active"),this.startButtonCallback(o)}}))}createLevelButtons(){const e=document.querySelector(".container-buttons-level-setting-game");o.forEach((t=>{const o=document.createElement("button");o.classList.add("button-level-games",t.class),o.innerHTML=t.label,o.dataset.group=String(t.group),null==e||e.appendChild(o)}))}}},1403:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HOME_PATHNAME=void 0,t.HOME_PATHNAME=window.location.pathname},2405:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersData=void 0;const n=o(9782);t.UsersData=class{constructor(){this.controllerUserWords=new n.ControllerUserWords}getUserWordGame(e){return r(this,void 0,void 0,(function*(){const t=localStorage.getItem("user_id")||"",o=localStorage.getItem("user_access_token")||"";return yield this.controllerUserWords.getUserWord(t,o,e)}))}getUserWordsGame(){return r(this,void 0,void 0,(function*(){const e=localStorage.getItem("user_id")||"",t=localStorage.getItem("user_access_token")||"";return yield this.controllerUserWords.getUserWords(e,t)}))}createUserWordsGame(e,t,o,n){return r(this,void 0,void 0,(function*(){const r=localStorage.getItem("user_id")||"",i=localStorage.getItem("user_access_token")||"",a={difficulty:"simple",optional:{new:!0,progress:t,addingMethodWords:o,timeStamp:n}};this.controllerUserWords.createUserWord(r,i,e,a)}))}updateUserWordsGame(e,t,o,n,i){return r(this,void 0,void 0,(function*(){const r=localStorage.getItem("user_id")||"",a=localStorage.getItem("user_access_token")||"";let s=n,c=o;(1===t&&"simple"===o&&s<3||1===t&&"difficult"===o&&s<5)&&(s+=1),0===t&&s>0&&(s-=1),5===s&&(c="simple",s=3);const d={difficulty:c,optional:{new:!0,progress:s,timeStamp:i}};this.controllerUserWords.updateUserWord(r,a,e,d)}))}}},5140:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HomePage=void 0,t.HomePage=class{drawHomePage(){const e=document.querySelector(".main");e.innerHTML="";const t=document.createElement("div");t.classList.add("home-page-bg","wrapper-main-content");const o=document.createElement("div");o.classList.add("main-content"),t.append(o),o.append(this.createMainHeading()),o.append(this.createOpportunityCards()),e.append(t)}createMainHeading(){const e=document.createElement("h1");return e.innerHTML="RS Lang",e.classList.add("rs-lang"),e}createOpportunityCards(){const e=document.createElement("div");return e.classList.add("opportunity-container"),[{text:"Изучай",img:"learn",route:"book"},{text:"Играй",img:"play",route:"audiocall"},{text:"Развивайся",img:"progress",route:"sprint"}].forEach((t=>{const o=document.createElement("div");o.classList.add("opportunity-card"),o.setAttribute("data-route",`${t.route}`);const r=document.createElement("div");r.classList.add("opportunity-img",`opportunity-${t.img}`),r.setAttribute("data-route",`${t.route}`);const n=document.createElement("h3");n.innerHTML=`${t.text}`,o.append(r,n),e.append(o)})),e}}},497:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TeamInfo=void 0,t.TeamInfo=class{constructor(){this.teamInfo=[{contribution:"bla bla",github:"https://github.com/Runeci",img:"dasha"},{contribution:"bla bla",github:"https://github.com/Alhladkiy",img:"aleksei"},{contribution:"bla bla",github:"https://github.com/seregaby2",img:"sergei"}]}drawTeamInfo(){const e=document.querySelector(".main");e.innerHTML="";const t=document.createElement("div");t.classList.add("team-info"),t.append(this.createTeamInfoHeading()),t.append(this.createHeadingUnderline()),t.append(this.createMembersInfoElements()),e.append(t)}createTeamInfoHeading(){const e=document.createElement("h2");return e.innerHTML="О команде",e.classList.add("team-info-heading"),e}createHeadingUnderline(){const e=document.createElement("div");return e.classList.add("team-underline"),e}createMembersInfoElements(){const e=document.createElement("div");return e.classList.add("members-info"),this.teamInfo.forEach((t=>{const o=document.createElement("div");o.classList.add("member-info"),o.innerHTML=`<a href="${t.github}" class="member-${t.img} member" target="_blank"></a><p>${t.contribution}</p>`,e.append(o)})),e}}},9586:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;const r=o(6126),n=o(5140),i=o(497),a=o(3567),s=o(3603),c=o(5667),d=o(5689),l=o(1403);var u;!function(e){e.Team="team",e.SprintGame="sprint",e.AudioGame="audiocall",e.Home="",e.Vocabulary="vocabulary",e.Stats="stats",e.Book="book",e.Overview="overview",e.TextBookSprintGame="sprint-textbook",e.TextBookAudioGame="audiocall-textbook"}(u||(u={})),t.Router=class{constructor(){this.homePage=new n.HomePage,this.team=new i.TeamInfo,this.sprintGame=new s.LogicSprintGame,this.audioGame=new r.AudioGamePage,this.textbookPage=new a.TextbookPage,this.templateStatistics=new c.TemplateStatistics,this.footer=new d.Footer}drawCurrentPage(){switch(window.location.hash){case`#/${u.Book}`:this.textbookPage.drawTextbookPage();break;case`#/${u.Vocabulary}`:break;case`#/${u.Stats}`:this.templateStatistics.drawStatistics();break;case`#/${u.Team}`:this.team.drawTeamInfo();break;case`#/${u.Overview}`:break;case`#/${u.SprintGame}`:this.sprintGame.drawSprintGame();break;case`#/${u.TextBookSprintGame}`:this.sprintGame.drawSprintGameFromBookPage();break;case`#/${u.AudioGame}`:this.audioGame.draw();break;case`#/${u.TextBookAudioGame}`:this.audioGame.drawAudioGameFromBookPage();break;default:this.homePage.drawHomePage()}this.footer.hideFooter()}changePages(){const e=document.querySelector(".wrapper");document.querySelector(".header-logo").addEventListener("click",(()=>{this.homePage.drawHomePage(),this.changeRoutes(u.Home),this.footer.hideFooter()})),e.addEventListener("click",(e=>{const t=e.target;if(!t.dataset.route)return;const o=`/#/${t.dataset.route}`;switch(this.changeRoutes(o),t.dataset.route){case u.Book:this.textbookPage.drawTextbookPage();break;case u.Vocabulary:break;case u.Stats:this.templateStatistics.drawStatistics();break;case u.Team:this.team.drawTeamInfo();break;case u.Overview:break;case u.SprintGame:this.sprintGame.drawSprintGame();break;case u.TextBookSprintGame:this.sprintGame.drawSprintGameFromBookPage();break;case u.AudioGame:this.audioGame.draw();break;case u.TextBookAudioGame:this.audioGame.drawAudioGameFromBookPage();break;default:this.homePage.drawHomePage()}this.footer.hideFooter()}))}changeRoutes(e){window.history.pushState({},e,window.location.origin+l.HOME_PATHNAME+e)}}},8858:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=t.getRandomNumber=void 0,t.getRandomNumber=function(e,t){return Math.round(Math.random()*(e-t)+t)},t.shuffle=function(e){return e.sort((()=>Math.random()-.5))}},3603:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LogicSprintGame=void 0;const n=o(8858),i=o(2577),a=o(4668),s=o(9782),c=o(2405),d=o(1478),l=o(7767);t.LogicSprintGame=class{constructor(){this.template=new i.TemplateHtml,this.controllerUserWords=new s.ControllerUserWords,this.arrayEnglishWord=[],this.arrayRussianWords=[],this.countProgressAnswer=0,this.score=0,this.continuousSeries=0,this.itemsSprintGameData=[],this.finalyItemsSprintGameData=[],this.resultAnswer=[],this.countRightAnswer=0,this.countTotalAnswer=0,this.maxCountProgressAnswer=60,this.bestContinuousSeries=0,this.bestContinuousSeriesForDay=0,this.count=0,this.controller=new a.ControllerWords,this.userData=new c.UsersData,this.controllerSettings=new l.ControllerSettings,this.start=new d.StartGame((e=>this.startCallback(e)),"Спринт вызов","Выбирайте соответсвующий перевод предложенным словам.\n  Эта игра поможет Вам развить навык быстрого перевода"),this.getWordsAtTransitionFromBookPage=(e,t)=>r(this,void 0,void 0,(function*(){return yield this.controller.getWords(e,t)})),this.createArrayEnglishAndRussianWordsHelper=e=>r(this,void 0,void 0,(function*(){const t=document.querySelector(".header"),o=[],r=Number(localStorage.getItem("currPage"));if(t.classList.contains("sprint-game")){o.push(this.getWordsAtTransitionFromBookPage(e,r));for(let t=0;t<29;t+=1)t!==r&&o.push(this.getWordsAtTransitionFromBookPage(e,t));const t=yield Promise.all(o);this.itemsSprintGameData=t.flat(1);const n=[],i=[];if(document.querySelector(".user-greeting")){const e=yield this.getUserWordsGame();for(let t=0;t<e.length;t+=1)3!==e[t].optional.progress&&5!==e[t].optional.progress||i.push(e[t])}for(let e=0;e<this.itemsSprintGameData.length;e+=1){let t=!1;for(let o=0;o<i.length;o+=1)if(i[o].wordId===this.itemsSprintGameData[e].id){t=!0;break}t||n.push(this.itemsSprintGameData[e])}this.finalyItemsSprintGameData=n.slice(0,60),this.createArrayRussianWord(n);for(let e=0;e<this.finalyItemsSprintGameData.length;e+=1)this.arrayEnglishWord.push(this.finalyItemsSprintGameData[e].word||"")}else{o.push(this.getWords(e)),o.push(this.getWords(e)),o.push(this.getWords(e));const t=yield Promise.all(o);this.itemsSprintGameData=t.flat(1),this.createArrayRussianWord(this.itemsSprintGameData);for(let e=0;e<this.itemsSprintGameData.length;e+=1)this.arrayEnglishWord.push(this.itemsSprintGameData[e].word||"");this.finalyItemsSprintGameData=this.itemsSprintGameData}this.maxCountProgressAnswer=this.arrayEnglishWord.length})),this.createArrayEnglishAndRussianWords=e=>r(this,void 0,void 0,(function*(){yield this.createArrayEnglishAndRussianWordsHelper(e)})),this.addControlKeyboard=e=>{const t=document.querySelectorAll(".item-footer-card-sprint-game");"ArrowLeft"===e.key&&t[0]&&(this.count=this.writeDataForClickAnswer(this.finalyItemsSprintGameData[this.countProgressAnswer].wordTranslate!==this.arrayRussianWords[this.countProgressAnswer][this.count]),t[0].classList.add("key-down-wrong")),"ArrowRight"===e.key&&t[0]&&(this.count=this.writeDataForClickAnswer(this.finalyItemsSprintGameData[this.countProgressAnswer].wordTranslate===this.arrayRussianWords[this.countProgressAnswer][this.count]),t[1].classList.add("key-down-right"))},this.myInterval=null,this.time=60}getWords(e){return r(this,void 0,void 0,(function*(){const t=(0,n.getRandomNumber)(29,0);return yield this.controller.getWords(e,t)}))}createArrayRussianWord(e){const t=e.slice();this.arrayRussianWords=[];for(let e=0;e<t.length;e+=1){const o=[];o.push(t[e].wordTranslate||"");for(let e=0;e<1;e+=1){const e=(0,n.getRandomNumber)(t.length-1,0);o.push(t[e].wordTranslate||"")}this.arrayRussianWords.push(o)}}writeEnglishAndRussianWord(e,t){const o=document.querySelectorAll(".item-content-card-sprint-game");o[0].textContent=t,o[1].textContent=e}getAnswer(e){const t=document.querySelectorAll(".item-header-card-sprint-game");this.countProgressAnswer>=this.maxCountProgressAnswer?this.resetTimer():(t[2].textContent=`Счет: ${this.score.toString()}`,t[1].textContent=`Непрерывная серия: ${this.continuousSeries}`,this.writeEnglishAndRussianWord(this.arrayRussianWords[this.countProgressAnswer][e],this.arrayEnglishWord[this.countProgressAnswer]))}playSounds(e,t){const o=e,r=document.querySelector(".volume");o.pause(),o.src=`../assets/sounds/${t}`,o.play(),r.classList.contains("mute")?o.muted=!0:o.muted=!1}getDate(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}writeDataForClickAnswer(e){const t=new Audio;e?(this.resultAnswer.push(1),this.countRightAnswer+=1,this.score+=10,this.continuousSeries+=1,this.playSounds(t,"RightAnswer.mp3")):(this.resultAnswer.push(0),this.continuousSeries=0,this.playSounds(t,"WrongAnswer.mp3")),this.countTotalAnswer+=1,this.countProgressAnswer+=1;const o=(0,n.getRandomNumber)(1,0);this.bestContinuousSeries<this.continuousSeries&&(this.bestContinuousSeries=this.continuousSeries),this.bestContinuousSeriesForDay<this.bestContinuousSeries&&(this.bestContinuousSeriesForDay=this.bestContinuousSeries);const r=document.querySelector(".user-greeting"),i=localStorage.getItem("user_id")||"",a=localStorage.getItem("user_access_token")||"",s=this.getDate();if(r){const e={wordsPerDay:1,optional:{countRightAnswerSprint:this.countRightAnswer,countTotalAnswerSprint:this.countTotalAnswer,longestContinuosSeriesSprint:this.bestContinuousSeriesForDay}};this.controllerSettings.updateSettings(i,a,e);const t=this.finalyItemsSprintGameData[this.resultAnswer.length-1].id,o=this.resultAnswer[this.resultAnswer.length-1];let r=!1;this.getUserWordsGame().then((e=>{e.forEach((e=>{e.wordId===t&&(r=!0,this.userData.updateUserWordsGame(t,o,e.difficulty,e.optional.progress,s))})),r&&0!==e.length||this.userData.createUserWordsGame(t,o,"sprint",s)}))}return this.getAnswer(o),o}removeClassFromButton(){const e=document.querySelectorAll(".item-footer-card-sprint-game");e[0]&&(e[0].classList.remove("key-down-wrong"),e[1].classList.remove("key-down-right"))}countAnswer(){return r(this,void 0,void 0,(function*(){const e=document.querySelectorAll(".item-footer-card-sprint-game");this.count=(0,n.getRandomNumber)(1,0),this.getAnswer(this.count);const t=document.querySelector(".volume");t.addEventListener("click",(()=>{t.classList.toggle("mute")})),e[0].addEventListener("click",(()=>{this.count=this.writeDataForClickAnswer(this.finalyItemsSprintGameData[this.countProgressAnswer].wordTranslate!==this.arrayRussianWords[this.countProgressAnswer][this.count])})),e[1].addEventListener("click",(()=>{this.count=this.writeDataForClickAnswer(this.finalyItemsSprintGameData[this.countProgressAnswer].wordTranslate===this.arrayRussianWords[this.countProgressAnswer][this.count])})),document.addEventListener("keydown",this.addControlKeyboard),document.addEventListener("keyup",(()=>this.removeClassFromButton()))}))}drawSprintGameFromBookPageHelper(e){return r(this,void 0,void 0,(function*(){const t=document.querySelector(".main");this.bestContinuousSeries=0;const o=document.querySelector(".loader");o.classList.add("show-loader"),t.classList.add("disabled-wrapper"),yield this.createArrayEnglishAndRussianWordsHelper(e),t.innerHTML="",this.template.createTemplateCardGame(t),document.querySelector(".wrapper-card-sprint-game").style.display="flex",this.timer(),this.addTimer(),this.countAnswer(),o.classList.remove("show-loader"),t.classList.remove("disabled-wrapper")}))}drawSprintGameFromBookPage(){const e=document.querySelector(".header"),t=document.querySelector(".main");if(e.classList.contains("sprint-game")){const e=Number(localStorage.getItem("currGroup"));this.drawSprintGameFromBookPageHelper(e)}this.resetTimer(),t.innerHTML=""}drawSprintGame(){const e=document.querySelector(".main"),t=document.createElement("div");t.classList.add("wrapper-choose-level-sprint-game"),this.resetTimer(),e.innerHTML="",e.append(t),this.start.showGameSetting(t)}startCallback(e){return r(this,void 0,void 0,(function*(){const t=document.querySelector(".main");this.bestContinuousSeries=0,yield this.createArrayEnglishAndRussianWords(e),t.innerHTML="",this.template.createTemplateCardGame(t),this.timer(),this.addTimer(),this.countAnswer()}))}runVoice(){document.querySelectorAll(".column-voice").forEach(((e,t)=>{e.addEventListener("click",(()=>{const e=new Audio;e.src=`https://rs-lang-2022.herokuapp.com/${this.finalyItemsSprintGameData[t].audio}`,e.play()}))}))}resetTimer(){const e=document.querySelector(".main");if(this.myInterval){clearInterval(this.myInterval),e.innerHTML="",this.template.createTableWithResults(e,this.finalyItemsSprintGameData,this.resultAnswer),this.runVoice();const t=document.querySelector(".score-for-result"),o=document.querySelector(".best-continuous-series");t.textContent=`Счет: ${this.score}/${10*this.resultAnswer.length}`,o.textContent=`Лучшая непрерывная серия: ${this.bestContinuousSeries}`,this.resultAnswer=[],this.time=60,this.arrayEnglishWord=[],this.countProgressAnswer=0,this.score=0,this.continuousSeries=0}}timer(){const e=document.querySelector(".item-header-card-sprint-game"),t=document.querySelector(".main");this.time<10?e.textContent=`Таймер: 0${this.time.toString()}`:e.textContent=`Таймер: ${this.time.toString()}`,this.time-=1,this.myInterval&&this.time<0&&(clearInterval(this.myInterval),t.innerHTML="",this.template.createTableWithResults(t,this.finalyItemsSprintGameData,this.resultAnswer),this.runVoice(),this.resetTimer())}addTimer(){this.myInterval=setInterval((()=>this.timer()),1e3),window.addEventListener("click",(()=>{!document.querySelector(".wrapper-card-sprint-game")&&this.myInterval&&clearInterval(this.myInterval)}))}getUserWordGame(e){return r(this,void 0,void 0,(function*(){const t=localStorage.getItem("user_id")||"",o=localStorage.getItem("user_access_token")||"";return yield this.controllerUserWords.getUserWord(t,o,e)}))}getUserWordsGame(){return r(this,void 0,void 0,(function*(){const e=localStorage.getItem("user_id")||"",t=localStorage.getItem("user_access_token")||"";return yield this.controllerUserWords.getUserWords(e,t)}))}createUserWordsGame(e,t){return r(this,void 0,void 0,(function*(){const o=localStorage.getItem("user_id")||"",r=localStorage.getItem("user_access_token")||"",n=yield this.getUserWordsGame(),i=this.getDate();let a=!1;if(n.forEach((t=>{t.id===e&&(a=!0)})),!a){const n={difficulty:"simple",optional:{new:!1,progress:t,timeStamp:i}};this.controllerUserWords.createUserWord(o,r,e,n)}}))}}},2577:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateHtml=void 0,t.TemplateHtml=class{constructor(){this.createElement=(e,t,o)=>{const r=document.createElement(o);return r.classList.add(e),t.appendChild(r)}}createTemplateCardGame(e){const t=this.createElement("wrapper-card-sprint-game",e,"div"),o=this.createElement("control-panel",t,"div");this.createElement("volume",o,"div");const r=this.createElement("card-sprint",t,"div"),n=this.createElement("header-card-sprint-game",r,"div"),i=this.createElement("image-content-card-sprint-game",r,"div"),a=this.createElement("content-card-spring-game",r,"div"),s=this.createElement("footer-card-spring-game",r,"div");for(let e=0;e<3;e+=1)this.createElement("item-header-card-sprint-game",n,"div");for(let e=0;e<5;e+=1){const t=this.createElement("favorites-card-img",i,"img");t.src="../assets/images/sprintGame/parrot1.png",t.alt="parrot",t.id=`parrot-${e}`}for(let e=0;e<2;e+=1)this.createElement("item-content-card-sprint-game",a,"div");for(let e=0;e<2;e+=1){this.createElement("item-footer-card-sprint-game",s,"button").textContent=0===e?"Неверно":"Верно"}}createTableWithResults(e,t,o){const r=this.createElement("wrapper-result-sprint-game",e,"div"),n=this.createElement("wrapper-table",r,"div"),i=this.createElement("wrapper-header-table",n,"div");this.createElement("best-continuous-series",i,"div"),this.createElement("score-for-result",i,"div"),this.createElement("text-result",n,"div").textContent="Результаты",o.length||o.push(0);for(let e=0;e<o.length;e+=1)this.createRowTableWithResult(n,e,t,o)}createRowTableWithResult(e,t,o,r){var n,i,a;const s=this.createElement("wrapper-row",e,"div");this.createElement("column-voice",s,"div").style.backgroundImage="url(../assets/svg/voice.svg)",this.createElement("column-english",s,"div").textContent=(null===(n=o[t].word)||void 0===n?void 0:n.toString())||"",this.createElement("column-transcription",s,"div").textContent=(null===(i=o[t].transcription)||void 0===i?void 0:i.toString())||"",this.createElement("column-russian",s,"div").textContent=(null===(a=o[t].wordTranslate)||void 0===a?void 0:a.toString())||"";const c=this.createElement("column-answer",s,"div");0===r[t]?c.style.backgroundImage="url(/../assets/svg/wrongAnswer.svg)":c.style.backgroundImage="url(../assets/svg/rightAnswer.svg)"}loader(e){this.createElement("loader",e,"div")}}},8695:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LogicStatistics=void 0;const n=o(1899),i=o(7767),a=o(2592);t.LogicStatistics=class{constructor(){this.newWordsSprint=0,this.newWordsAudio=0,this.newWordsBook=0,this.percentSprint=0,this.percentAudio=0,this.percentBook=0,this.theBestSeriesSprint=0,this.theBestSeriesAudio=0,this.learnedAnswer=0,this.controllerAggregated=new n.ControllerAggregated,this.controllerStatistics=new a.ControllerStatistics,this.controllerSettings=new i.ControllerSettings}getDate(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}getNewWords(){return r(this,void 0,void 0,(function*(){const e=localStorage.getItem("user_id")||"",t=localStorage.getItem("user_access_token")||"";this.newWordsSprint=(yield this.controllerAggregated.getAggregatedWord(e,t,"sprint",this.getDate()))[0].paginatedResults.length,this.newWordsAudio=(yield this.controllerAggregated.getAggregatedWord(e,t,"audio",this.getDate()))[0].paginatedResults.length,this.newWordsBook=this.newWordsSprint+this.newWordsAudio}))}getLearnedWordsFromBook(){return r(this,void 0,void 0,(function*(){const e=localStorage.getItem("user_id")||"",t=localStorage.getItem("user_access_token")||"";this.learnedAnswer=(yield this.controllerAggregated.getAggregatedLearnedWord(e,t))[0].paginatedResults.length}))}getPercentForGame(){return r(this,void 0,void 0,(function*(){const e=localStorage.getItem("user_id")||"",t=localStorage.getItem("user_access_token")||"";this.dataOfSettings=yield this.controllerSettings.getSettings(e,t);const o=this.dataOfSettings.optional.countRightAnswerSprint,r=this.dataOfSettings.optional.countTotalAnswerSprint||1;this.percentSprint=o?Math.round(o/r*1e4)/100:0;const n=this.dataOfSettings.optional.countRightAnswerAudio,i=this.dataOfSettings.optional.countTotalAnswerAudio||1;if(this.percentAudio=n?Math.round(n/i*1e4)/100:0,n&&o){const e=o+n,t=i+r;this.percentBook=Math.round(e/t*1e4)/100}else n?o||(this.percentBook=this.percentAudio):this.percentBook=this.percentSprint}))}GetContinuosSeriesForGame(){this.dataOfSettings.optional.longestContinuosSeriesSprint?this.theBestSeriesSprint=this.dataOfSettings.optional.longestContinuosSeriesSprint:this.theBestSeriesSprint=0,this.dataOfSettings.optional.longestContinuosSeriesAudio?this.theBestSeriesAudio=this.dataOfSettings.optional.longestContinuosSeriesAudio:this.theBestSeriesAudio=0}getCurrentDay(){return(new Date).getDay()}updateStat(){return r(this,void 0,void 0,(function*(){const e=localStorage.getItem("user_id")||"",t=localStorage.getItem("user_access_token")||"";let o=!0,r=0;if(o&&(r=(new Date).getDay(),o=!1),r!==this.getCurrentDay()){const r={wordsPerDay:1,optional:{countRightAnswerSprint:0,countTotalAnswerSprint:1,longestContinuosSeriesSprint:0,countRightAnswerAudio:0,countTotalAnswerAudio:1,longestContinuosSeriesAudio:0}};yield this.controllerSettings.updateSettings(e,t,r),o=!0}yield this.getNewWords(),yield this.getPercentForGame(),this.GetContinuosSeriesForGame(),yield this.getLearnedWordsFromBook();const n={learnedWords:0,optional:{countNewWordsSprint:this.newWordsSprint,percentRightAnswerSprint:this.percentSprint,longestSeriesOfRightAnswerSprint:this.theBestSeriesSprint,countNewWordsAudio:this.newWordsAudio,percentRightAnswerAudio:this.percentAudio,longestSeriesOfRightAnswerAudio:this.theBestSeriesAudio,countNewWordsBook:this.newWordsBook,countLearnedWordsBook:this.learnedAnswer,percentRightAnswerBook:this.percentBook}};yield this.controllerStatistics.updateStatistics(e,t,n)}))}getStats(){const e=localStorage.getItem("user_id")||"",t=localStorage.getItem("user_access_token")||"";return this.controllerStatistics.getStatistics(e,t)}}},5667:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateStatistics=void 0;const n=o(8695);t.TemplateStatistics=class{constructor(){this.logicStatistics=new n.LogicStatistics}templateStatisticsForAuthorizedUser(){return'\n<div class="wrapper-stats">\n  <div class="wrapper-sprint-total">\n    <div class="header-sprint">Мини-игра "Спринт"</div>\n    <div class="wrapper-sprint">\n      <div class="new-words-sprint"></div>\n      <div class="percent-right-answer-sprint"></div>\n      <div class="longest-series-sprint"></div>\n    </div>\n  </div>\n  <div class="wrapper-audio-total">\n    <div class="header-audio">Мини-игра "Аудиовызов"</div>\n    <div class="wrapper-audio">\n      <div class="new-words-audio"></div>\n      <div class="percent-right-answer-audio"></div>\n      <div class="longest-series-audio"></div>\n    </div>\n  </div>\n  <div class="wrapper-book-total">\n    <div class="header-book">Учебник</div>\n    <div class="wrapper-book">\n      <div class="new-words-book"></div>\n      <div class="count-learnt-book"></div>\n      <div class="percent-right-answer-book"></div>\n    </div>\n  </div>\n</div>\n'}templateStatisticsForNoAuthorizedUser(){return'\n    <div class="wrapper-stats">\n    <div class="text-no-authorized"> Статистика доступна только авторизованным пользователям</div>\n    </div>'}drawStatistics(){return r(this,void 0,void 0,(function*(){const e=document.querySelector(".main");if(localStorage.getItem("user_access_token")){const t=document.querySelector(".loader");t&&(t.classList.add("show-loader"),e.classList.add("disabled-wrapper"),yield this.logicStatistics.updateStat(),e.innerHTML=this.templateStatisticsForAuthorizedUser(),yield this.writeDataHtml(),t.classList.remove("show-loader"),e.classList.remove("disabled-wrapper"))}else e.innerHTML=this.templateStatisticsForNoAuthorizedUser()}))}writeDataHtml(){return r(this,void 0,void 0,(function*(){const e=yield this.logicStatistics.getStats(),t=document.querySelector(".new-words-sprint"),o=document.querySelector(".percent-right-answer-sprint"),r=document.querySelector(".longest-series-sprint"),n=document.querySelector(".new-words-audio"),i=document.querySelector(".percent-right-answer-audio"),a=document.querySelector(".longest-series-audio"),s=document.querySelector(".new-words-book"),c=document.querySelector(".count-learnt-book"),d=document.querySelector(".percent-right-answer-book");t.textContent=`Новые слова за день: ${e.optional.countNewWordsSprint}`,o.textContent=`Процент правильных ответов за день: ${e.optional.percentRightAnswerSprint}%`,r.textContent=`Самая длинная серия за день: ${e.optional.longestSeriesOfRightAnswerSprint}`,n.textContent=`Новые слова за день: ${e.optional.countNewWordsAudio}`,i.textContent=`Процент правильных ответов за день: ${e.optional.percentRightAnswerAudio}%`,a.textContent=`Самая длинная серия за день: ${e.optional.longestSeriesOfRightAnswerAudio}`,s.textContent=`Новые слова за день: ${e.optional.countNewWordsBook}`,c.textContent=`Количество изученных слов: ${e.optional.countLearnedWordsBook}`,d.textContent=`Процент правильных ответов за день: ${e.optional.percentRightAnswerBook}%`}))}}},2804:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardAudio=void 0;const r=o(4668);t.CardAudio=class{constructor(){this.controller=new r.ControllerWords}playCardAudio(e,t){[document.querySelector(".textbook-pagination"),document.querySelector(".textbook-header"),document.querySelector(".header")].forEach((e=>{e.addEventListener("click",(()=>{this.stopAudioSet()}))})),document.querySelectorAll(".textbook-card-sound").forEach(((o,r)=>{o.addEventListener("click",(()=>{this.makeAudioBtnActive(o),this.controller.getWords(e,t).then((e=>{this.playAudioSet(e[r].audio,e[r].audioMeaning,e[r].audioExample)}))}))}))}playAudioSet(e,t,o){var r;this.audioWord=new Audio(`https://rs-lang-2022.herokuapp.com/${e}`),this.audioMeaning=new Audio(`https://rs-lang-2022.herokuapp.com/${t}`),this.audioExample=new Audio(`https://rs-lang-2022.herokuapp.com/${o}`),this.disableAudioButtons(),null===(r=this.audioWord)||void 0===r||r.play(),this.audioWord.addEventListener("ended",(()=>{var e;null===(e=this.audioMeaning)||void 0===e||e.play()})),this.audioMeaning.addEventListener("ended",(()=>{var e;null===(e=this.audioExample)||void 0===e||e.play()})),this.audioExample.addEventListener("ended",(()=>{this.enableAudioButtons()}))}stopAudioSet(){var e,t,o;null===(e=this.audioExample)||void 0===e||e.pause(),null===(t=this.audioWord)||void 0===t||t.pause(),null===(o=this.audioMeaning)||void 0===o||o.pause()}disableAudioButtons(){document.querySelectorAll(".textbook-card-sound").forEach((e=>{e.classList.add("disable")}))}enableAudioButtons(){document.querySelectorAll(".textbook-card-sound").forEach((e=>{e.classList.remove("disable","active")}))}makeAudioBtnActive(e){e.classList.toggle("active")}}},4147:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardStyles=void 0,t.CardStyles=class{constructor(){this.levelColor=["#f1c50e","#FFBF00","#FF9515","#FF6A2B","#db621c","#e21818","#dc146f"]}changeStyles(e){const t=this.levelColor[e],o=document.querySelectorAll(".textbook-card-decoration"),r=document.querySelectorAll(".textbook-card-word"),n=document.querySelectorAll(".textbook-card-translation"),i=document.querySelectorAll(".textbook-card-sound svg"),a=document.querySelectorAll(".textbook-authorized-buttons button"),s=document.querySelectorAll(".textbook-star-difficult");[...o,...a].forEach((e=>{e.style.background=t})),[...r,...n,...s].forEach((e=>{e.style.color=t})),i.forEach((e=>{e.style.fill=t}))}makeBookmarkActive(e){document.querySelectorAll(".textbook-page-btn")[e].classList.add("active")}}},8184:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextbookCard=void 0,t.TextbookCard=class{createWordCard(e,t,o,r,n,i,a,s,c){const d=document.createElement("div");return d.classList.add("textbook-card-container"),d.setAttribute("data-word-id",t),d.innerHTML=`<div class="textbook-word-img" style="background-image: url('https://rs-lang-2022.herokuapp.com/${e}')"></div>\n                    <div class="textbook-card-text">\n                        <div class="textbook-word">\n                            <div class="textbook-card-word">\n                                <div>${o}</div>\n                                <div class="textbook-card-sound">\n                                 <svg width="36" height="30" viewBox="0 0 36 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                 <path d="M18.3326 0C17.8816 0 17.4905 0.156374 17.1604 0.469123L8.48928 8.68426H1.66737C1.21531 8.68426 0.825273 8.84064 0.495164 9.15339C0.165055 9.46614 0 9.83665 0 10.2639V19.7361C0 20.1633 0.165055 20.5339 0.495164 20.8466C0.825273 21.1594 1.21636 21.3157 1.66737 21.3157H8.48928L17.1604 29.5309C17.4905 29.8436 17.8806 30 18.3326 30C18.7847 30 19.1747 29.8436 19.5048 29.5309C19.8349 29.2181 20 28.8486 20 28.4203V1.57968C20 1.15239 19.8349 0.781873 19.5059 0.469123C19.1768 0.156374 18.7857 0 18.3337 0H18.3326Z"/>\n                                 <path d="M28.0399 18.515C28.7419 17.434 29.0929 16.266 29.0929 15.01C29.0929 13.754 28.7419 12.582 28.0399 11.492C27.3379 10.402 26.4099 9.63396 25.2529 9.18796C25.0879 9.10596 24.8809 9.06396 24.6339 9.06396C24.2049 9.06396 23.8329 9.21697 23.5189 9.52197C23.2049 9.82897 23.0479 10.203 23.0479 10.649C23.0479 10.996 23.1469 11.289 23.3459 11.528C23.5449 11.767 23.7829 11.974 24.0639 12.147C24.3439 12.32 24.6249 12.51 24.9059 12.717C25.1869 12.924 25.4259 13.216 25.6239 13.596C25.8219 13.976 25.9209 14.447 25.9209 15.008C25.9209 15.569 25.8219 16.04 25.6239 16.42C25.4259 16.8 25.1869 17.093 24.9059 17.299C24.6249 17.505 24.3439 17.696 24.0639 17.869C23.7829 18.042 23.5439 18.249 23.3459 18.488C23.1479 18.727 23.0479 19.021 23.0479 19.367C23.0479 19.813 23.2059 20.188 23.5189 20.494C23.8329 20.798 24.2039 20.953 24.6339 20.953C24.8809 20.953 25.0879 20.912 25.2529 20.829C26.4089 20.366 27.3379 19.594 28.0399 18.512V18.515Z"/>\n                                 <path d="M33.8744 22.1208C35.2915 19.9463 36 17.5714 36 14.999C36 12.4276 35.2915 10.0547 33.8744 7.87713C32.4574 5.70262 30.5822 4.11727 28.2497 3.12618C28.0337 3.04274 27.8167 3 27.5997 3C27.1667 3 26.7913 3.15976 26.4744 3.47927C26.1574 3.79878 26 4.17629 26 4.61384C26 5.26914 26.325 5.76469 26.975 6.1015C27.9075 6.58891 28.5414 6.95828 28.8744 7.21063C30.1078 8.11829 31.0707 9.25592 31.762 10.6255C32.4534 11.9952 32.7996 13.4523 32.7996 15C32.7996 16.5457 32.4534 18.0038 31.762 19.3745C31.0707 20.7441 30.1078 21.8817 28.8744 22.7894C28.5414 23.0417 27.9075 23.4111 26.975 23.8985C26.325 24.2353 26 24.7298 26 25.3862C26 25.8227 26.1585 26.2012 26.4744 26.5207C26.7903 26.8402 27.1738 27 27.6239 27C27.8238 27 28.0327 26.9573 28.2487 26.8738C30.5811 25.8817 32.4574 24.2984 33.8734 22.1219L33.8744 22.1208Z"/>\n                                 </svg>\n                            </div>\n                            </div>\n                            <div class="textbook-card-transcription">${r}</div>\n                            <div class="textbook-card-translation">${n}</div>\n                        </div>\n                        <div class="textbook-word-meaning">\n                            <div class="textbook-card-meaning">${i}</div>\n                            <div class="textbook-card-meaningTranslate">${a}</div>\n                        </div>\n                        <div class="textbook-word-example">\n                            <div class="textbook-card-example">${s}</div>\n                            <div class="textbook-card-exampleTranstale">${c}</div>\n                        </div>\n                    </div>\n                    </div>\n                    <div class="textbook-card-decoration"></div>`,d}}},3937:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserCard=void 0;const r=o(53),n=o(849),i=o(6528);t.UserCard=class{constructor(){this.localStorageService=new n.LocalStorageService,this.levelColor=["#F1C50EFF","#FFBF00","#FF9515","#FF6A2B","#e21818","#e21818","#dc146f"],this.userCardController=new i.UserCardController}drawWordAuthorisedCardBtns(e){const t=document.createElement("div");return t.classList.add("textbook-authorized-buttons"),t.append(this.drawDifficultBtn(e)),t.append(this.drawLearntBtn(e)),t}drawDifficultBtn(e){const t=document.createElement("button");return t.classList.add("textbook-difficult-btn","btn"),t.innerHTML="Сложное",t.setAttribute("data-difficult-btn",e),t.addEventListener("click",(()=>{if(t.dataset.difficultBtn){this.userCardController.makeWordDifficult(e),t.closest(".textbook-card-container").append(this.createDifficultStar(e)),document.querySelector(`[data-learnt-btn="${e}"]`).classList.remove("disable");const o=document.querySelector(`[data-word-id="${e}"] .check`);o&&o.remove();const r=document.querySelector(`[data-word-id="${e}"] .progress-container`);r&&r.remove(),this.drawProgressElement({progress:0,id:e,difficulty:"difficult"}),this.checkIfAllBtnsActive(!1),this.disableBtn(t)}})),t}drawLearntBtn(e){const t=document.createElement("button");return t.classList.add("textbook-learnt-btn","btn"),t.innerHTML="Изученное",t.setAttribute("data-learnt-btn",e),t.addEventListener("click",(()=>{if(t.dataset.learntBtn){this.userCardController.makeWordLearnt(e),t.closest(".textbook-card-container").append(this.createLearntCheckmark(e)),document.querySelector(`[data-difficult-btn="${e}"]`).classList.remove("disable");const o=document.querySelector(`[data-word-id="${e}"] .star`);o&&o.remove();const r=document.querySelector(`[data-word-id="${e}"] .progress-container`);r&&r.remove(),this.drawProgressElement({progress:3,id:e,difficulty:"simple"}),this.checkIfAllBtnsActive(!1),this.disableBtn(t)}})),t}drawProgress(e){const t=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");t.classList.add("progress-container"),o.classList.add("progress"),n.classList.add("progress-result"),o.style.width=`${e}%`,n.innerHTML=`${e}%`;const i=this.localStorageService.get(r.CURRENT_GROUP);if(i){const e=parseInt(i,10);o.style.backgroundColor=this.levelColor[e]}return t.append(n),t.append(o),t}createDifficultStar(e){let t=document.querySelector(`[data-word-id="${e}"] .star`);t?t.remove():(t=document.createElement("div"),t.classList.add("star"));const o=this.localStorageService.get(r.CURRENT_GROUP);if(o){const e=parseInt(o,10);t.innerHTML=`<i class="fa fa-solid fa-star textbook-star-difficult" style="color: ${this.levelColor[e]}"></i>`}return t}createLearntCheckmark(e){let t=document.querySelector(`[data-word-id="${e}"] .check`);t?t.remove():(t=document.createElement("div"),t.classList.add("check"));const o=this.localStorageService.get(r.CURRENT_GROUP);if(o){const e=parseInt(o,10);t.innerHTML=`<i class="fa fa-solid fa-check textbook-learnt-check" style="color: ${this.levelColor[e]}"></i>`}return t}disableBtn(e){e.classList.add("disable")}addLearntWordsStyle(e){document.querySelector(`[data-word-id="${e}"]`).append(this.createLearntCheckmark(e));const t=document.querySelector(`[data-learnt-btn="${e}"]`);this.disableBtn(t)}addDifficultWordsStyle(e){document.querySelector(`[data-word-id="${e}"]`).append(this.createDifficultStar(e));const t=document.querySelector(`[data-difficult-btn="${e}"]`);this.disableBtn(t)}drawProgressElement(e){const t=document.querySelector(`[data-word-id="${e.id}"] .textbook-card-text`);let o;o="simple"===e.difficulty?Math.ceil(100*e.progress/3):Math.ceil(100*e.progress/5),t.append(this.drawProgress(o))}checkIfAllBtnsActive(e){let t=0;t=e?0:1;const o=document.querySelector(".main"),n=document.querySelector(".textbook-pag-btn.active"),i=document.querySelectorAll(".textbook-difficult-btn.disable"),a=document.querySelectorAll(".textbook-learnt-btn.disable"),s=document.querySelectorAll(".games-links-container i");t=t+i.length+a.length,20===t?(o.style.backgroundColor="rgba(0,0,0, 0.1)",n.style.background=this.levelColor[parseInt(this.localStorageService.get(r.CURRENT_GROUP),10)],s.forEach((e=>{const t=e;e.classList.add("disable"),t.style.opacity="0.5"}))):(o.style.backgroundColor="rgba(255,255,255)",s.forEach((e=>{const t=e;e.classList.remove("disable"),t.style.opacity="1"})))}}},6528:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserCardController=void 0;const r=o(9782),n=o(53),i=o(849);t.UserCardController=class{constructor(){this.localStorageService=new i.LocalStorageService,this.controllerUserWords=new r.ControllerUserWords,this.userId=this.localStorageService.get(n.USER_ID),this.userToken=this.localStorageService.get(n.USER_ACCESS_TOKEN)}makeWordDifficult(e){this.controllerUserWords.createUserWord(this.userId,this.userToken,e,{difficulty:"difficult",optional:{new:!1,progress:0,timeStamp:this.getDate()}}).catch((t=>{t&&this.controllerUserWords.getUserWord(this.userId,this.userToken,e).then((t=>{this.controllerUserWords.updateUserWord(this.userId,this.userToken,e,{difficulty:"difficult",optional:{new:t.optional.new,progress:0,timeStamp:this.getDate()}})}))}))}getDate(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}makeWordLearnt(e){this.controllerUserWords.updateUserWord(this.userId,this.userToken,e,{difficulty:"simple",optional:{new:!1,progress:3,timeStamp:this.getDate()}}).catch((t=>{t&&this.controllerUserWords.createUserWord(this.userId,this.userToken,e,{difficulty:"simple",optional:{new:!1,progress:3,timeStamp:this.getDate()}})}))}}},3567:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextbookPage=void 0;const r=o(9195),n=o(4147),i=o(8759),a=o(4658),s=o(3560),c=o(849),d=o(53);t.TextbookPage=class{constructor(){this.localStorageService=new c.LocalStorageService,this.pagination=new r.Pagination(30),this.textbookDisplay=new i.TextbookPageDisplay,this.difficultGroup=new s.DifficultGroup,this.style=new n.CardStyles,this.currentGroup=0,this.currentPage=0,this.numberOfGroups=6}drawTextbookPage(){this.createTextbookPageTemplate(),this.checkCurrGroupAndPage(),this.pagination.createPaginationButtons(this.currentPage+1),"6"===this.localStorageService.get(d.CURRENT_GROUP)?this.difficultGroup.drawDifficultGroup():this.textbookDisplay.toggleCards(this.currentGroup,this.currentPage),this.changeGroups(),this.changePages(),this.addClassForSprint()}createTextbookPageTemplate(){const e=document.querySelector(".main");e.innerHTML="";const t=document.createElement("div");t.classList.add("textbook");const o=document.createElement("div");o.classList.add("textbook-container");const r=document.createElement("div");r.classList.add("textbook-cards-container");const n=document.createElement("div");n.classList.add("pagination");const i=document.createElement("div");i.classList.add("textbook-pagination"),i.append(n),o.append(this.createTextbookHeader()),o.append(i),o.append(r),t.append(o),e.append(t)}checkCurrGroupAndPage(){if(this.localStorageService.get(d.CURRENT_GROUP)){const e=this.localStorageService.get(d.CURRENT_GROUP);e&&(this.currentGroup=parseInt(e,10),this.style.makeBookmarkActive(this.currentGroup))}else this.localStorageService.set(d.CURRENT_GROUP,0);if(this.localStorageService.get(d.CURRENT_PAGE)){const e=this.localStorageService.get(d.CURRENT_PAGE);e&&(this.currentPage=parseInt(e,10))}else this.localStorageService.set(d.CURRENT_PAGE,0)}createTextbookHeader(){const e=document.createElement("div");return e.classList.add("textbook-header"),e.append(this.createPagesNavigation()),e.append(this.createGamesLinks()),e}createPagesNavigation(){const e=document.createElement("div");e.classList.add("textbook-pages"),this.localStorageService.get(d.USER_ID)&&(this.numberOfGroups=7);let t="";for(let e=1;e<=this.numberOfGroups;e+=1)t+=`<div class="textbook-page-btn" data-textbook="${e}">\n                  <i class="fas fa-bookmark"></i>\n                  <div class="textbook-page-num">${e}</div>\n                </div>`;return e.innerHTML=t,e}createGamesLinks(){const e=document.createElement("div");return e.classList.add("games-links-container","textbook-games-container"),e.innerHTML='<i class="fas fa-running" data-route="sprint-textbook"></i>\n                                <i class="fas fa-microphone" data-route="audiocall-textbook"></i>',e}addClassForSprint(){const e=document.querySelector(".fa-running"),t=document.querySelector(".sprint"),o=document.querySelector(".header");o&&(e.addEventListener("click",(()=>{o.classList.add("sprint-game")})),t.addEventListener("click",(()=>{o.classList.remove("sprint-game")})))}changeGroups(){const e=document.querySelectorAll(".textbook-page-btn");e.forEach((t=>{t.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active"),e.classList.remove("disable")})),t.dataset.textbook&&("7"===t.dataset.textbook?(this.difficultGroup.drawDifficultGroup(),this.currentGroup=6):(this.currentGroup=parseInt(t.dataset.textbook,10)-1,this.currentPage=0,this.pagination.createPaginationButtons(1),this.localStorageService.set(d.CURRENT_PAGE,0),this.textbookDisplay.toggleCards(this.currentGroup,this.currentPage),(0,a.hidePagination)(!1)),this.style.makeBookmarkActive(this.currentGroup),this.localStorageService.set(d.CURRENT_GROUP,this.currentGroup),t.classList.add("disable"),this.changePages())}))}))}changePages(){document.querySelectorAll(".textbook-pag-btn").forEach((e=>{e.addEventListener("click",(()=>{const t=parseInt(e.innerHTML,10)-1;this.currentPage=t,this.localStorageService.set(d.CURRENT_PAGE,t),this.textbookDisplay.toggleCards(this.currentGroup,this.currentPage),this.changePages()}))}));const e=document.querySelector(".next"),t=document.querySelector(".prev");t&&t.addEventListener("click",(()=>{if(this.localStorageService.get(d.CURRENT_PAGE)){const e=this.localStorageService.get(d.CURRENT_PAGE);if(e){const t=parseInt(e,10)-1;this.currentPage=t,this.localStorageService.set(d.CURRENT_PAGE,t)}}this.textbookDisplay.toggleCards(this.currentGroup,this.currentPage),this.changePages()})),e&&e.addEventListener("click",(()=>{if(this.localStorageService.get(d.CURRENT_PAGE)){const e=this.localStorageService.get(d.CURRENT_PAGE);if(e){const t=parseInt(e,10)-1;this.currentPage=t,this.localStorageService.set(d.CURRENT_PAGE,t)}}this.textbookDisplay.toggleCards(this.currentGroup,this.currentPage),this.changePages()}))}}},3560:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DifficultGroup=void 0;const r=o(4658),n=o(4668),i=o(8184),a=o(9782),s=o(849),c=o(53);t.DifficultGroup=class{constructor(){this.localStorageService=new s.LocalStorageService,this.controllerWords=new n.ControllerWords,this.textbookCard=new i.TextbookCard,this.controllerUserWords=new a.ControllerUserWords,this.userId=this.localStorageService.get(c.USER_ID),this.userToken=this.localStorageService.get(c.USER_ACCESS_TOKEN)}drawDifficultGroup(){const e=document.querySelector(".textbook-cards-container");(0,r.hidePagination)(!0);const t=[];this.controllerUserWords.getUserWords(this.userId,this.userToken).then((e=>{e.forEach((e=>{e.wordId&&"difficult"===e.difficulty&&t.push(this.controllerWords.getWord(e.wordId))}))})).then((()=>Promise.all(t).then((t=>{(0,r.clearCardsContainer)(),t.forEach((t=>{const o=this.textbookCard.createWordCard(t.image,t.id,t.word,t.transcription,t.wordTranslate,t.textMeaning,t.textMeaningTranslate,t.textExample,t.textExampleTranslate);o.append(this.createBtnRemoveFromDifficult(t.id)),e.append(o)}))}))))}createBtnRemoveFromDifficult(e){const t=document.createElement("button");return t.setAttribute("data-delete-btn",e),t.classList.add("btn","textbook-delete-btn"),t.innerHTML="Удалить",t.addEventListener("click",(()=>{if(t.dataset.deleteBtn){const e=t.dataset.deleteBtn;this.deleteWordFromDifficult(e)}})),t}deleteWordFromDifficult(e){this.controllerUserWords.getUserWord(this.userId,this.userToken,e).then((t=>{this.controllerUserWords.updateUserWord(this.userId,this.userToken,e,{difficulty:"simple",optional:t.optional}).then((()=>{this.drawDifficultGroup()}))}))}}},9195:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;const r=o(849),n=o(53);t.Pagination=class{constructor(e){this.localStorageService=new r.LocalStorageService,this.totalPages=e}createPaginationButtons(e){var t,o,r;const i=document.querySelector(".pagination");let a,s="",c=e-1,d=e+1;e>1&&(s+='<button class="btn prev"> < </button>'),e>2&&(s+='<button class="btn prev textbook-pag-btn"> 1 </button>',e>3&&(s+='<button class="btn dots"> ... </button>')),e===this.totalPages?c-=2:e===this.totalPages-1&&(c-=1),1===e?d+=2:2===e&&(d+=1);for(let t=c;t<=d;t+=1)t>this.totalPages||(0===t&&(t+=1),a=e===t?"active disable":"",s+=`<button class="btn textbook-pag-btn ${a}">${t}</button>`);return e<this.totalPages-1&&(e<this.totalPages-2&&(s+='<button class="btn dots"> ... </button>'),s+=`<button class="btn prev textbook-pag-btn"> ${this.totalPages} </button>`),e<this.totalPages&&(s+='<button class="btn next"> > </button>'),i.innerHTML=s,null===(t=i.querySelector(".prev"))||void 0===t||t.addEventListener("click",(()=>{this.createPaginationButtons(e-1),this.localStorageService.set(n.CURRENT_PAGE,e-1)})),null===(o=i.querySelector(".next"))||void 0===o||o.addEventListener("click",(()=>{this.createPaginationButtons(e+1),this.localStorageService.set(n.CURRENT_PAGE,e+1)})),null===(r=i.querySelectorAll(".textbook-pag-btn"))||void 0===r||r.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target;this.createPaginationButtons(parseInt(t.innerHTML,10)),this.localStorageService.set(n.CURRENT_PAGE,parseInt(t.innerHTML,10))}))})),i}}},4658:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hidePagination=t.clearCardsContainer=void 0,t.clearCardsContainer=function(){document.querySelector(".textbook-cards-container").innerHTML=""},t.hidePagination=function(e){const t=document.querySelector(".textbook-pagination");e?t.classList.add("invisible"):t.classList.remove("invisible")}},8759:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextbookPageDisplay=void 0;const r=o(2804),n=o(4147),i=o(4668),a=o(4658),s=o(8184),c=o(9782),d=o(3937),l=o(53);t.TextbookPageDisplay=class{constructor(){this.audio=new r.CardAudio,this.style=new n.CardStyles,this.controllerWords=new i.ControllerWords,this.controllerUserWords=new c.ControllerUserWords,this.textbookCard=new s.TextbookCard,this.textbookUserCard=new d.UserCard,this.userId=localStorage.getItem(l.USER_ID)||"",this.userToken=localStorage.getItem(l.USER_ACCESS_TOKEN)||""}toggleCards(e,t){this.userId&&this.userToken?this.createUserCards(e,t):this.createUsualCards(e,t)}createUsualCards(e,t){const o=document.querySelector(".textbook-cards-container");this.controllerWords.getWords(e,t).then((r=>{(0,a.clearCardsContainer)(),r.forEach((e=>{e&&o.append(this.textbookCard.createWordCard(e.image,e.id,e.word,e.transcription,e.wordTranslate,e.textMeaning,e.textMeaningTranslate,e.textExample,e.textExampleTranslate))})),this.audio.playCardAudio(e,t),this.style.changeStyles(e)}))}createUserCards(e,t){const o=document.querySelector(".textbook-cards-container"),r=[],n=[],i=[];this.controllerUserWords.getUserWords(this.userId,this.userToken).then((e=>{e.forEach((e=>{"difficult"===e.difficulty&&e.wordId&&r.push(e.wordId),"difficult"===e.difficulty&&5===e.optional.progress&&e.wordId&&n.push(e.wordId),"simple"===e.difficulty&&3===e.optional.progress&&e.wordId&&n.push(e.wordId);const t={progress:e.optional.progress,id:e.wordId||"",difficulty:e.difficulty};i.push(t)}))})).then((()=>{this.controllerWords.getWords(e,t).then((s=>{(0,a.clearCardsContainer)(),s.forEach(((e,t)=>{e&&(o.append(this.textbookCard.createWordCard(e.image,e.id,e.word,e.transcription,e.wordTranslate,e.textMeaning,e.textMeaningTranslate,e.textExample,e.textExampleTranslate)),document.querySelectorAll(".textbook-card-text")[t].append(this.textbookUserCard.drawWordAuthorisedCardBtns(e.id)),r.forEach((t=>{t===e.id&&this.textbookUserCard.addDifficultWordsStyle(t)})),n.forEach((t=>{t===e.id&&this.textbookUserCard.addLearntWordsStyle(t)})),i.forEach((t=>{if(t.id===e.id){const e=document.querySelector(`[data-word-id="${t.id}"] .textbook-card-text`).querySelector(".progress-container");e&&e.remove(),this.textbookUserCard.drawProgressElement(t)}})))})),this.audio.playCardAudio(e,t),this.style.changeStyles(e),this.textbookUserCard.checkIfAllBtnsActive(!0)}))}))}}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),o(9967),(new(o(5491).App)).start()})();